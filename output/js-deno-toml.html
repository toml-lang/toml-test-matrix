<pre>
deno-toml version 3374f8c2
<b>FAIL</b> <b>valid/array/array</b>
<b> </b>    Key "dates" is not "datetime-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"datetime-local", "value":"1979-05-27T07:32:00"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1979-05-27T06:32:00.000Z"}

<b>     input sent to parser-cmd (PID 23697):</b>
       ints = [1, 2, 3, ]
       floats = [1.1, 2.1, 3.1]
       strings = ["a", "b", "c"]
       dates = [
       	1987-07-05T17:45:00Z,
       	1979-05-27T07:32:00,
       	2006-06-01,
       	11:00:00,
       ]
       comments = [
                1,
                2, #this is ok
       ]

<b>     output from parser-cmd (PID 23697) (stdout):</b>
       {
         "comments": [
           {"type": "float", "value": "1"},
           {"type": "float", "value": "2"}
         ],
         "dates": [
           {"type": "datetime", "value": "1987-07-05T17:45:00.000Z"},
           {"type": "datetime", "value": "1979-05-27T06:32:00.000Z"},
           {"type": "datetime", "value": "2006-06-01T00:00:00.000Z"},
           {"type": "string", "value": "11:00:00"}
         ],
         "floats": [
           {"type": "float", "value": "1.1"},
           {"type": "float", "value": "2.1"},
           {"type": "float", "value": "3.1"}
         ],
         "ints": [
           {"type": "float", "value": "1"},
           {"type": "float", "value": "2"},
           {"type": "float", "value": "3"}
         ],
         "strings": [
           {"type": "string", "value": "a"},
           {"type": "string", "value": "b"},
           {"type": "string", "value": "c"}
         ]
       }

<b>     want:</b>
       {
           "comments": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"}
           ],
           "dates": [
               {"type": "datetime", "value": "1987-07-05T17:45:00Z"},
               {"type": "datetime-local", "value": "1979-05-27T07:32:00"},
               {"type": "date-local", "value": "2006-06-01"},
               {"type": "time-local", "value": "11:00:00"}
           ],
           "floats": [
               {"type": "float", "value": "1.1"},
               {"type": "float", "value": "2.1"},
               {"type": "float", "value": "3.1"}
           ],
           "ints": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "3"}
           ],
           "strings": [
               {"type": "string", "value": "a"},
               {"type": "string", "value": "b"},
               {"type": "string", "value": "c"}
           ]
       }

<b>FAIL</b> <b>valid/array/open-parent-table</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 5, column 0: Cannot parse the TOML: key length is not a positive number
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 23690):</b>
       [[parent-table.arr]]
       [[parent-table.arr]]
       [parent-table]
       not-arr = 1

<b>     output from parser-cmd (PID 23690) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 5, column 0: Cannot parse the TOML: key length is not a positive number
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/comment/everywhere</b>
<b> </b>    Key "group.d" is not "date-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"date-local", "value":"1979-05-27"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1979-05-27T00:00:00.000Z"}

<b>     input sent to parser-cmd (PID 24103):</b>
       # Top comment.
         # Top comment.
       # Top comment.

       # [no-extraneous-groups-please]

       [group] # Comment
       answer = 42 # Comment
       # no-extraneous-keys-please = 999
       # Inbetween comment.
       more = [ # Comment
         # What about multiple # comments?
         # Can you handle it?
         #
                 # Evil.
       # Evil.
         42, 42, # Comments within arrays are fun.
         # What about multiple # comments?
         # Can you handle it?
         #
                 # Evil.
       # Evil.
       # ] Did I fool you?
       ] # Hopefully not.

       # Make sure the space between the datetime and "#" isn't lexed.
       dt = 1979-05-27T07:32:12-07:00  # c
       d = 1979-05-27 # Comment

       [[aot]] # Comment
       k = 98 # Comment
       [[aot]]# Comment
       k = 99# Comment

<b>     output from parser-cmd (PID 24103) (stdout):</b>
       {
         "aot": [
           {
             "k": {"type": "float", "value": "98"}
           },
           {
             "k": {"type": "float", "value": "99"}
           }
         ],
         "group": {
           "answer": {"type": "float", "value": "42"},
           "d":      {"type": "datetime", "value": "1979-05-27T00:00:00.000Z"},
           "dt":     {"type": "datetime", "value": "1979-05-27T14:32:12.000Z"},
           "more": [
             {"type": "float", "value": "42"},
             {"type": "float", "value": "42"}
           ]
         }
       }

<b>     want:</b>
       {
           "aot": [
               {
                   "k": {"type": "integer", "value": "98"}
               },
               {
                   "k": {"type": "integer", "value": "99"}
               }
           ],
           "group": {
               "answer": {"type": "integer", "value": "42"},
               "d":      {"type": "date-local", "value": "1979-05-27"},
               "dt":     {"type": "datetime", "value": "1979-05-27T07:32:12-07:00"},
               "more": [
                   {"type": "integer", "value": "42"},
                   {"type": "integer", "value": "42"}
               ]
           }
       }

<b>FAIL</b> <b>valid/comment/tricky</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 23, column 0: Array is not closed
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 24209):</b>
       [section]#attached comment
       #[notsection]
       one = "11"#cmt
       two = "22#"
       three = '#'

       four = """# no comment
       # nor this
       #also not comment"""#is_comment

       five = 5.5#66
       six = 6#7
       8 = "eight"
       #nine = 99
       ten = 10e2#1
       eleven = 1.11e1#23

       ["hash#tag"]
       "#!" = "hash bang"
       arr3 = [ "#", '#', """###""" ]
       arr4 = [ 1,# 9, 9,
       2#,9
       ,#9
       3#]
       ,4]
       arr5 = [[[[#["#"],
       ["#"]]]]#]
       ]
       tbl1 = { "#" = '}#'}#}}

<b>     output from parser-cmd (PID 24209) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 23, column 0: Array is not closed
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/datetime/datetime</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 4, column 21: key/value pair doesn't have "="
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 24210):</b>
       space = 1987-07-05 17:45:00Z

       # ABNF is case-insensitive, both "Z" and "z" must be supported.
       lower = 1987-07-05t17:45:00z

<b>     output from parser-cmd (PID 24210) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 4, column 21: key/value pair doesn't have "="
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/datetime/edge</b>
<b> </b>    Key "first-date" is not "date-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"date-local", "value":"0001-01-01"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"0001-01-01T00:00:00.000Z"}

<b>     input sent to parser-cmd (PID 24292):</b>
       first-offset = 0001-01-01 00:00:00Z
       first-local  = 0001-01-01 00:00:00
       first-date   = 0001-01-01

       last-offset = 9999-12-31 23:59:59Z
       last-local  = 9999-12-31 23:59:59
       last-date   = 9999-12-31

<b>     output from parser-cmd (PID 24292) (stdout):</b>
       {
         "first-date":   {"type": "datetime", "value": "0001-01-01T00:00:00.000Z"},
         "first-local":  {"type": "datetime", "value": "2001-01-01T00:00:00.000Z"},
         "first-offset": {"type": "datetime", "value": "2001-01-01T00:00:00.000Z"},
         "last-date":    {"type": "datetime", "value": "9999-12-31T00:00:00.000Z"},
         "last-local":   {"type": "datetime", "value": "9999-12-31T23:59:59.000Z"},
         "last-offset":  {"type": "datetime", "value": "9999-12-31T23:59:59.000Z"}
       }

<b>     want:</b>
       {
           "first-date":   {"type": "date-local", "value": "0001-01-01"},
           "first-local":  {"type": "datetime-local", "value": "0001-01-01T00:00:00"},
           "first-offset": {"type": "datetime", "value": "0001-01-01T00:00:00Z"},
           "last-date":    {"type": "date-local", "value": "9999-12-31"},
           "last-local":   {"type": "datetime-local", "value": "9999-12-31T23:59:59"},
           "last-offset":  {"type": "datetime", "value": "9999-12-31T23:59:59Z"}
       }

<b>FAIL</b> <b>valid/datetime/leap-year</b>
<b> </b>    Key "2000-date" is not "date-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"date-local", "value":"2000-02-29"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"2000-02-29T00:00:00.000Z"}

<b>     input sent to parser-cmd (PID 24338):</b>
       2000-datetime       = 2000-02-29 15:15:15Z
       2000-datetime-local = 2000-02-29 15:15:15
       2000-date           = 2000-02-29

       2024-datetime       = 2024-02-29 15:15:15Z
       2024-datetime-local = 2024-02-29 15:15:15
       2024-date           = 2024-02-29

<b>     output from parser-cmd (PID 24338) (stdout):</b>
       {
         "2000-date":           {"type": "datetime", "value": "2000-02-29T00:00:00.000Z"},
         "2000-datetime":       {"type": "datetime", "value": "2000-02-29T15:15:15.000Z"},
         "2000-datetime-local": {"type": "datetime", "value": "2000-02-29T15:15:15.000Z"},
         "2024-date":           {"type": "datetime", "value": "2024-02-29T00:00:00.000Z"},
         "2024-datetime":       {"type": "datetime", "value": "2024-02-29T15:15:15.000Z"},
         "2024-datetime-local": {"type": "datetime", "value": "2024-02-29T15:15:15.000Z"}
       }

<b>     want:</b>
       {
           "2000-date":           {"type": "date-local", "value": "2000-02-29"},
           "2000-datetime":       {"type": "datetime", "value": "2000-02-29T15:15:15Z"},
           "2000-datetime-local": {"type": "datetime-local", "value": "2000-02-29T15:15:15"},
           "2024-date":           {"type": "date-local", "value": "2024-02-29"},
           "2024-datetime":       {"type": "datetime", "value": "2024-02-29T15:15:15Z"},
           "2024-datetime-local": {"type": "datetime-local", "value": "2024-02-29T15:15:15"}
       }

<b>FAIL</b> <b>valid/datetime/local</b>
<b> </b>    Key "local" is not "datetime-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"datetime-local", "value":"1987-07-05T17:45:00"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1987-07-05T16:45:00.000Z"}

<b>     input sent to parser-cmd (PID 24344):</b>
       local = 1987-07-05T17:45:00
       milli = 1977-12-21T10:32:00.555
       space = 1987-07-05 17:45:00

<b>     output from parser-cmd (PID 24344) (stdout):</b>
       {
         "local": {"type": "datetime", "value": "1987-07-05T16:45:00.000Z"},
         "milli": {"type": "datetime", "value": "1977-12-21T10:32:00.555Z"},
         "space": {"type": "datetime", "value": "1987-07-05T16:45:00.000Z"}
       }

<b>     want:</b>
       {
           "local": {"type": "datetime-local", "value": "1987-07-05T17:45:00"},
           "milli": {"type": "datetime-local", "value": "1977-12-21T10:32:00.555"},
           "space": {"type": "datetime-local", "value": "1987-07-05T17:45:00"}
       }

<b>FAIL</b> <b>valid/datetime/local-date</b>
<b> </b>    Key "bestdayever" is not "date-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"date-local", "value":"1987-07-05"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1987-07-05T00:00:00.000Z"}

<b>     input sent to parser-cmd (PID 24339):</b>
       bestdayever = 1987-07-05

<b>     output from parser-cmd (PID 24339) (stdout):</b>
       {
         "bestdayever": {"type": "datetime", "value": "1987-07-05T00:00:00.000Z"}
       }

<b>     want:</b>
       {
           "bestdayever": {"type": "date-local", "value": "1987-07-05"}
       }

<b>FAIL</b> <b>valid/datetime/local-time</b>
<b> </b>    Key "besttimeever" is not "time-local" but "string":
<b> </b>      Expected:     map[string]any{"type":"time-local", "value":"17:45:00"}
<b> </b>      Your encoder: map[string]any{"type":"string", "value":"17:45:00"}

<b>     input sent to parser-cmd (PID 24340):</b>
       besttimeever = 17:45:00
       milliseconds = 10:32:00.555

<b>     output from parser-cmd (PID 24340) (stdout):</b>
       {
         "besttimeever": {"type": "string", "value": "17:45:00"},
         "milliseconds": {"type": "string", "value": "10:32:00.555"}
       }

<b>     want:</b>
       {
           "besttimeever": {"type": "time-local", "value": "17:45:00"},
           "milliseconds": {"type": "time-local", "value": "10:32:00.555"}
       }

<b>FAIL</b> <b>valid/implicit-and-explicit-after</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Cannot parse the TOML: key length is not a positive number
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 24658):</b>
       [a.b.c]
       answer = 42

       [a]
       better = 43

<b>     output from parser-cmd (PID 24658) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Cannot parse the TOML: key length is not a positive number
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/inline-table/array-02</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Array is not closed
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 24709):</b>
       # "No newlines are allowed between the curly braces unless they are valid within
       # a value"

       a = { a = [
       ]}

<b>     output from parser-cmd (PID 24709) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Array is not closed
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/inline-table/array-03</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 8, column 0: Array is not closed
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 24713):</b>
       b = { a = [
       		1,
       		2,
       	], b = [
       		3,
       		4,
       	]}

<b>     output from parser-cmd (PID 24713) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 8, column 0: Array is not closed
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/key/quoted-unicode</b>
<b> </b>    Could not find key "\b \f A \x7f \u0080 √ø \ud7ff \ue000 \uffff êÄÄ \U0010ffff" in parser output.

<b>     input sent to parser-cmd (PID 25600):</b>

       "\u0000" = "null"
       '\u0000' = "different key"
       "\u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff" = "escaped key"

       "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø" = "basic key"
       'l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø' = "literal key"

<b>     output from parser-cmd (PID 25600) (stdout):</b>
       {
         "\u0000":                    {"type": "string", "value": "null"},
         "\b \f \u000041  ¬Ä √ø Ìüø ÓÄÄ Ôøø ƒÄ00 ·Éøff": {"type": "string", "value": "escaped key"},
         "\\u0000":                   {"type": "string", "value": "different key"},
         "l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":           {"type": "string", "value": "literal key"},
         "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":             {"type": "string", "value": "basic key"}
       }

<b>     want:</b>
       {
           "\u0000":               {"type": "string", "value": "null"},
           "\b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø": {"type": "string", "value": "escaped key"},
           "\\u0000":              {"type": "string", "value": "different key"},
           "l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":      {"type": "string", "value": "literal key"},
           "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":        {"type": "string", "value": "basic key"}
       }

<b>FAIL</b> <b>valid/spec-1.0.0/local-date-0</b>
<b> </b>    Key "ld1" is not "date-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"date-local", "value":"1979-05-27"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1979-05-27T00:00:00.000Z"}

<b>     input sent to parser-cmd (PID 26285):</b>
       ld1 = 1979-05-27

<b>     output from parser-cmd (PID 26285) (stdout):</b>
       {
         "ld1": {"type": "datetime", "value": "1979-05-27T00:00:00.000Z"}
       }

<b>     want:</b>
       {
           "ld1": {"type": "date-local", "value": "1979-05-27"}
       }

<b>FAIL</b> <b>valid/spec-1.0.0/local-date-time-0</b>
<b> </b>    Key "ldt1" is not "datetime-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"datetime-local", "value":"1979-05-27T07:32:00"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1979-05-27T06:32:00.000Z"}

<b>     input sent to parser-cmd (PID 26290):</b>
       ldt1 = 1979-05-27T07:32:00
       ldt2 = 1979-05-27T00:32:00.999

<b>     output from parser-cmd (PID 26290) (stdout):</b>
       {
         "ldt1": {"type": "datetime", "value": "1979-05-27T06:32:00.000Z"},
         "ldt2": {"type": "datetime", "value": "1979-05-26T23:32:00.999Z"}
       }

<b>     want:</b>
       {
           "ldt1": {"type": "datetime-local", "value": "1979-05-27T07:32:00"},
           "ldt2": {"type": "datetime-local", "value": "1979-05-27T00:32:00.999"}
       }

<b>FAIL</b> <b>valid/spec-1.0.0/local-time-0</b>
<b> </b>    Key "lt1" is not "time-local" but "string":
<b> </b>      Expected:     map[string]any{"type":"time-local", "value":"07:32:00"}
<b> </b>      Your encoder: map[string]any{"type":"string", "value":"07:32:00"}

<b>     input sent to parser-cmd (PID 26292):</b>
       lt1 = 07:32:00
       lt2 = 00:32:00.999

<b>     output from parser-cmd (PID 26292) (stdout):</b>
       {
         "lt1": {"type": "string", "value": "07:32:00"},
         "lt2": {"type": "string", "value": "00:32:00.999"}
       }

<b>     want:</b>
       {
           "lt1": {"type": "time-local", "value": "07:32:00"},
           "lt2": {"type": "time-local", "value": "00:32:00.999"}
       }

<b>FAIL</b> <b>valid/spec-1.0.0/table-4</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 7, column 0: Cannot parse the TOML: key length is not a positive number
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 26616):</b>
       # [x] you
       # [x.y] don't
       # [x.y.z] need these
       [x.y.z.w] # for this to work

       [x] # defining a super-table afterward is ok

<b>     output from parser-cmd (PID 26616) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 7, column 0: Cannot parse the TOML: key length is not a positive number
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/spec-1.0.0/table-7</b>
<b> </b>    Key "owner.member_since" is not "date-local" but "datetime":
<b> </b>      Expected:     map[string]any{"type":"date-local", "value":"1999-08-04"}
<b> </b>      Your encoder: map[string]any{"type":"datetime", "value":"1999-08-04T00:00:00.000Z"}

<b>     input sent to parser-cmd (PID 26705):</b>
       # Top-level table begins.
       name = "Fido"
       breed = "pug"

       # Top-level table ends.
       [owner]
       name = "Regina Dogman"
       member_since = 1999-08-04

<b>     output from parser-cmd (PID 26705) (stdout):</b>
       {
         "breed": {"type": "string", "value": "pug"},
         "name":  {"type": "string", "value": "Fido"},
         "owner": {
           "member_since": {"type": "datetime", "value": "1999-08-04T00:00:00.000Z"},
           "name":         {"type": "string", "value": "Regina Dogman"}
         }
       }

<b>     want:</b>
       {
           "breed": {"type": "string", "value": "pug"},
           "name":  {"type": "string", "value": "Fido"},
           "owner": {
               "member_since": {"type": "date-local", "value": "1999-08-04"},
               "name":         {"type": "string", "value": "Regina Dogman"}
           }
       }

<b>FAIL</b> <b>valid/string/ends-in-whitespace-escape</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 3, column 6: Invalid escape sequence: \
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 26867):</b>
       beee = """
       heeee
       geeee\


             """

<b>     output from parser-cmd (PID 26867) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 3, column 6: Invalid escape sequence: \
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/string/multibyte-escape</b>
<b> </b>    Values for key "basic-1" don't match:
<b> </b>      Expected:     …ë ‚Ç¨ ê´± …ë‚Ç¨ê´±
<b> </b>      Your encoder: …ë ‚Ç¨ ƒäF1 …ë‚Ç¨ƒäF1

<b>     input sent to parser-cmd (PID 26917):</b>
       # Test each multibyte length: 2, 3, and 4 bytes:
       # …ë ‚Ç¨ ê´±

       basic-1    = "\u0251 \u20ac \U00010AF1 \u0251\u20ac\U00010AF1"
       ml-basic-1 = """\u0251 \u20ac \U00010AF1 \u0251\u20ac\U00010AF1"""

       # Again, but only using \U
       basic-2    = "\U00000251 \U000020ac \U00010AF1 \U00000251\U000020ac\U00010AF1"
       ml-basic-2 = """\U00000251 \U000020ac \U00010AF1 \U00000251\U000020ac\U00010AF1"""

<b>     output from parser-cmd (PID 26917) (stdout):</b>
       {
         "basic-1":    {"type": "string", "value": "…ë ‚Ç¨ ƒäF1 …ë‚Ç¨ƒäF1"},
         "basic-2":    {"type": "string", "value": "\u000251  ac ƒäF1 \u000251 acƒäF1"},
         "ml-basic-1": {"type": "string", "value": "…ë ‚Ç¨ ƒäF1 …ë‚Ç¨ƒäF1"},
         "ml-basic-2": {"type": "string", "value": "\u000251  ac ƒäF1 \u000251 acƒäF1"}
       }

<b>     want:</b>
       {
           "basic-1":    {"type": "string", "value": "…ë ‚Ç¨ ê´± …ë‚Ç¨ê´±"},
           "ml-basic-1": {"type": "string", "value": "…ë ‚Ç¨ ê´± …ë‚Ç¨ê´±"},
           "basic-2":    {"type": "string", "value": "…ë ‚Ç¨ ê´± …ë‚Ç¨ê´±"},
           "ml-basic-2": {"type": "string", "value": "…ë ‚Ç¨ ê´± …ë‚Ç¨ê´±"}
       }

<b>FAIL</b> <b>valid/string/multiline</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 19, column 23: Invalid escape sequence: \
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27040):</b>
       # NOTE: this file includes some literal tab characters.

       equivalent_one = "The quick brown fox jumps over the lazy dog."
       equivalent_two = """
       The quick brown \


         fox jumps over \
           the lazy dog."""

       equivalent_three = """\
              The quick brown \
              fox jumps over \
              the lazy dog.\
              """

       whitespace-after-bs = """\
              The quick brown \
              fox jumps over \
              the lazy dog.\
              """

       no-space = """a\
           b"""

       # Has tab character.
       keep-ws-before = """a   	\
          b"""

       escape-bs-1 = """a \\
       b"""

       escape-bs-2 = """a \\\
       b"""

       escape-bs-3 = """a \\\\
         b"""

<b>     output from parser-cmd (PID 27040) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 19, column 23: Invalid escape sequence: \
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/string/multiline-empty</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 13, column 4: Invalid escape sequence: \
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27027):</b>
       empty-1 = """"""

       # A newline immediately following the opening delimiter will be trimmed.
       empty-2 = """
       """

       # \ at the end of line trims newlines as well; note that last \ is followed by
       # two spaces, which are ignored.
       empty-3 = """\
           """
       empty-4 = """\
          \
          \
          """

<b>     output from parser-cmd (PID 27027) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 13, column 4: Invalid escape sequence: \
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/string/multiline-quotes</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 5, column 30: Single-line string cannot contain EOL
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27038):</b>
       # Make sure that quotes inside multiline strings are allowed, including right
       # after the opening '''/""" and before the closing '''/"""

       lit_one = ''''one quote''''
       lit_two = '''''two quotes'''''
       lit_one_space = ''' 'one quote' '''
       lit_two_space = ''' ''two quotes'' '''

       one = """"one quote""""
       two = """""two quotes"""""
       one_space = """ "one quote" """
       two_space = """ ""two quotes"" """

       mismatch1 = """aaa'''bbb"""
       mismatch2 = '''aaa"""bbb'''

       # Three opening """, then one escaped ", then two "" (allowed), and then three
       # closing """
       escaped = """lol\""""""

       five-quotes = """
       Closing with five quotes
       """""
       four-quotes = """
       Closing with four quotes
       """"

<b>     output from parser-cmd (PID 27038) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 5, column 30: Single-line string cannot contain EOL
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/string/quoted-unicode</b>
<b> </b>    Values for key "escaped_string" don't match:
<b> </b>      Expected:         A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø
<b> </b>      Your encoder:      41  ¬Ä √ø Ìüø ÓÄÄ Ôøø ƒÄ00 ·Éøff

<b>     input sent to parser-cmd (PID 27124):</b>

       escaped_string = "\u0000 \u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff"
       not_escaped_string = '\u0000 \u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff'

       basic_string = "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"
       literal_string = '~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø'

<b>     output from parser-cmd (PID 27124) (stdout):</b>
       {
         "basic_string":   {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
         "escaped_string": {"type": "string", "value": "\u0000 \b \f \u000041  ¬Ä √ø Ìüø ÓÄÄ Ôøø ƒÄ00 ·Éøff"},
         "literal_string": {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
         "not_escaped_string": {
           "type":  "string",
           "value": "\\u0000 \\u0008 \\u000c \\U00000041 \\u007f \\u0080 \\u00ff \\ud7ff \\ue000 \\uffff \\U00010000 \\U0010ffff"
         }
       }

<b>     want:</b>
       {
           "basic_string":   {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "escaped_string": {"type": "string", "value": "\u0000 \b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "literal_string": {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "not_escaped_string": {
               "type":  "string",
               "value": "\\u0000 \\u0008 \\u000c \\U00000041 \\u007f \\u0080 \\u00ff \\ud7ff \\ue000 \\uffff \\U00010000 \\U0010ffff"
           }
       }

<b>FAIL</b> <b>valid/string/raw-multiline</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 22, column 5: Single-line string cannot contain EOL
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27163):</b>
       # Single ' should be allowed.
       oneline = '''This string has a ' quote character.'''

       # A newline immediately following the opening delimiter will be trimmed.
       firstnl = '''
       This string has a ' quote character.'''

       # All other whitespace and newline characters remain intact.
       multiline = '''
       This string
       has ' a quote character
       and more than
       one newline
       in it.'''

       # Tab character in literal string does not need to be escaped
       multiline_with_tab = '''First line
       	 Followed by a tab'''

       this-str-has-apostrophes='''' there's one already
       '' two more
       '''''

<b>     output from parser-cmd (PID 27163) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 22, column 5: Single-line string cannot contain EOL
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/string/unicode-escape</b>
<b> </b>    Values for key "c" don't match:
<b> </b>      Expected:     c
<b> </b>      Your encoder:  63

<b>     input sent to parser-cmd (PID 27187):</b>
       delta-1 = "\u03B4"
       delta-2 = "\U000003B4"
       a       = "\u0061"
       b       = "\u0062"
       c       = "\U00000063"
       null-1  = "\u0000"
       null-2  = "\U00000000"

       ml-delta-1 = """\u03B4"""
       ml-delta-2 = """\U000003B4"""
       ml-a       = """\u0061"""
       ml-b       = """\u0062"""
       ml-c       = """\U00000063"""
       ml-null-1  = """\u0000"""
       ml-null-2  = """\U00000000"""

<b>     output from parser-cmd (PID 27187) (stdout):</b>
       {
         "a":          {"type": "string", "value": "a"},
         "b":          {"type": "string", "value": "b"},
         "c":          {"type": "string", "value": "\u000063"},
         "delta-1":    {"type": "string", "value": "Œ¥"},
         "delta-2":    {"type": "string", "value": "\u0003B4"},
         "ml-a":       {"type": "string", "value": "a"},
         "ml-b":       {"type": "string", "value": "b"},
         "ml-c":       {"type": "string", "value": "\u000063"},
         "ml-delta-1": {"type": "string", "value": "Œ¥"},
         "ml-delta-2": {"type": "string", "value": "\u0003B4"},
         "ml-null-1":  {"type": "string", "value": "\u0000"},
         "ml-null-2":  {"type": "string", "value": "\u000000"},
         "null-1":     {"type": "string", "value": "\u0000"},
         "null-2":     {"type": "string", "value": "\u000000"}
       }

<b>     want:</b>
       {
           "a":          {"type": "string", "value": "a"},
           "b":          {"type": "string", "value": "b"},
           "c":          {"type": "string", "value": "c"},
           "delta-1":    {"type": "string", "value": "Œ¥"},
           "delta-2":    {"type": "string", "value": "Œ¥"},
           "ml-a":       {"type": "string", "value": "a"},
           "ml-b":       {"type": "string", "value": "b"},
           "ml-c":       {"type": "string", "value": "c"},
           "ml-delta-1": {"type": "string", "value": "Œ¥"},
           "ml-delta-2": {"type": "string", "value": "Œ¥"},
           "ml-null-1":  {"type": "string", "value": "\u0000"},
           "ml-null-2":  {"type": "string", "value": "\u0000"},
           "null-1":     {"type": "string", "value": "\u0000"},
           "null-2":     {"type": "string", "value": "\u0000"}
       }

<b>FAIL</b> <b>valid/table/array-implicit-and-explicit-after</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Cannot parse the TOML: key length is not a positive number
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27305):</b>
       [[a.b]]
       x = 1

       [a]
       y = 2

<b>     output from parser-cmd (PID 27305) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Cannot parse the TOML: key length is not a positive number
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/table/without-super</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Cannot parse the TOML: key length is not a positive number
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27702):</b>
       # [x] you
       # [x.y] don't
       # [x.y.z] need these
       [x.y.z.w] # for this to work
       [x] # defining a super-table afterwards is ok

<b>     output from parser-cmd (PID 27702) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 6, column 0: Cannot parse the TOML: key length is not a positive number
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/table/without-super-with-values</b>
<b> </b>    error: Uncaught (in promise) SyntaxError: Parse error on line 10, column 0: Cannot parse the TOML: key length is not a positive number
<b> </b>            throw new SyntaxError(createParseErrorMessage(scanner, error.message));
<b> </b>                  ^
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
<b> </b>        at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 27682):</b>
       # [x] you
       # [x.y] don't
       # [x.y.z] need these
       [x.y.z.w] # for this to work
       a = 1
       b = 2
       [x] # defining a super-table afterwards is ok
       c = 3
       d = 4

<b>     output from parser-cmd (PID 27682) (stderr):</b>
       error: Uncaught (in promise) SyntaxError: Parse error on line 10, column 0: Cannot parse the TOML: key length is not a positive number
               throw new SyntaxError(createParseErrorMessage(scanner, error.message));
                     ^
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/_parser.ts:810:15
           at parse (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/parse.ts:26:24)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-decoder.ts:38:9

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>invalid/array/extending-table</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 27843):</b>
       a = [{ b = 1 }]

       # Cannot extend tables within static arrays
       # https://github.com/toml-lang/toml/issues/908
       [a.c]
       foo = 1

<b>     output from parser-cmd (PID 27843) (stdout):</b>
       {
         "a": [{
           "b": {"type": "float", "value": "1"},
           "c": {
             "foo": {"type": "float", "value": "1"}
           }
         }]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/array/tables-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 28484):</b>
       # INVALID TOML DOC
       fruit = []

       [[fruit]] # Not allowed

<b>     output from parser-cmd (PID 28484) (stdout):</b>
       {
         "fruit": [{}]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-cr</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 28955):</b>
       comment-cr   = "Carriage return in comment" # a=1

<b>     output from parser-cmd (PID 28955) (stdout):</b>
       {
         "comment-cr": {"type": "string", "value": "Carriage return in comment"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 28959):</b>
       comment-del  = "0x7f"   # 

<b>     output from parser-cmd (PID 28959) (stdout):</b>
       {
         "comment-del": {"type": "string", "value": "0x7f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-ff</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 28966):</b>
       comment-ff   = "0x7f"   # 

<b>     output from parser-cmd (PID 28966) (stdout):</b>
       {
         "comment-ff": {"type": "string", "value": "0x7f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-lf</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 28967):</b>
       comment-lf   = "ctrl-P" # 

<b>     output from parser-cmd (PID 28967) (stdout):</b>
       {
         "comment-lf": {"type": "string", "value": "ctrl-P"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-null</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29054):</b>
       comment-null = "null"   #  

<b>     output from parser-cmd (PID 29054) (stdout):</b>
       {
         "comment-null": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-us</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29055):</b>
       comment-us   = "ctrl-_" # 

<b>     output from parser-cmd (PID 29055) (stdout):</b>
       {
         "comment-us": {"type": "string", "value": "ctrl-_"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/multi-cr</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29103):</b>
       multi-cr   = """null"""

<b>     output from parser-cmd (PID 29103) (stdout):</b>
       {
         "multi-cr": {"type": "string", "value": "null\r"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/multi-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29104):</b>
       multi-del  = """null"""

<b>     output from parser-cmd (PID 29104) (stdout):</b>
       {
         "multi-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/multi-lf</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29105):</b>
       multi-lf   = """null"""

<b>     output from parser-cmd (PID 29105) (stdout):</b>
       {
         "multi-lf": {"type": "string", "value": "null\u0010"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/multi-null</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29122):</b>
       multi-null = """null """

<b>     output from parser-cmd (PID 29122) (stdout):</b>
       {
         "multi-null": {"type": "string", "value": "null\u0000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/multi-us</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29178):</b>
       multi-us   = """null"""

<b>     output from parser-cmd (PID 29178) (stdout):</b>
       {
         "multi-us": {"type": "string", "value": "null\u001f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawmulti-cr</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29219):</b>
       rawmulti-cr   = '''null'''

<b>     output from parser-cmd (PID 29219) (stdout):</b>
       {
         "rawmulti-cr": {"type": "string", "value": "null\r"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawmulti-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29244):</b>
       rawmulti-del  = '''null'''

<b>     output from parser-cmd (PID 29244) (stdout):</b>
       {
         "rawmulti-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawmulti-lf</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29276):</b>
       rawmulti-lf   = '''null'''

<b>     output from parser-cmd (PID 29276) (stdout):</b>
       {
         "rawmulti-lf": {"type": "string", "value": "null\u0010"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawmulti-null</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29277):</b>
       rawmulti-null = '''null '''

<b>     output from parser-cmd (PID 29277) (stdout):</b>
       {
         "rawmulti-null": {"type": "string", "value": "null\u0000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawmulti-us</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29288):</b>
       rawmulti-us   = '''null'''

<b>     output from parser-cmd (PID 29288) (stdout):</b>
       {
         "rawmulti-us": {"type": "string", "value": "null\u001f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawstring-cr</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29336):</b>
       rawstring-cr   = 'null'

<b>     output from parser-cmd (PID 29336) (stdout):</b>
       {
         "rawstring-cr": {"type": "string", "value": "null\r"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawstring-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29359):</b>
       rawstring-del  = 'null'

<b>     output from parser-cmd (PID 29359) (stdout):</b>
       {
         "rawstring-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawstring-lf</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29360):</b>
       rawstring-lf   = 'null'

<b>     output from parser-cmd (PID 29360) (stdout):</b>
       {
         "rawstring-lf": {"type": "string", "value": "null\u0010"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawstring-null</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29421):</b>
       rawstring-null = 'null '

<b>     output from parser-cmd (PID 29421) (stdout):</b>
       {
         "rawstring-null": {"type": "string", "value": "null\u0000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawstring-us</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29422):</b>
       rawstring-us   = 'null'

<b>     output from parser-cmd (PID 29422) (stdout):</b>
       {
         "rawstring-us": {"type": "string", "value": "null\u001f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-bs</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29426):</b>
       string-bs   = "backspace"

<b>     output from parser-cmd (PID 29426) (stdout):</b>
       {
         "string-bs": {"type": "string", "value": "backspace\b"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-cr</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29444):</b>
       string-cr   = "null"

<b>     output from parser-cmd (PID 29444) (stdout):</b>
       {
         "string-cr": {"type": "string", "value": "null\r"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29488):</b>
       string-del  = "null"

<b>     output from parser-cmd (PID 29488) (stdout):</b>
       {
         "string-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-lf</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29499):</b>
       string-lf   = "null"

<b>     output from parser-cmd (PID 29499) (stdout):</b>
       {
         "string-lf": {"type": "string", "value": "null\u0010"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-null</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29500):</b>
       string-null = "null "

<b>     output from parser-cmd (PID 29500) (stdout):</b>
       {
         "string-null": {"type": "string", "value": "null\u0000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-us</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29548):</b>
       string-us   = "null"

<b>     output from parser-cmd (PID 29548) (stdout):</b>
       {
         "string-us": {"type": "string", "value": "null\u001f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/feb-29</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29560):</b>
       "not a leap year" = 2100-02-29T15:15:15Z

<b>     output from parser-cmd (PID 29560) (stdout):</b>
       {
         "not a leap year": {"type": "datetime", "value": "2100-03-01T15:15:15.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/feb-30</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29564):</b>
       "only 28 or 29 days in february" = 1988-02-30T15:15:15Z

<b>     output from parser-cmd (PID 29564) (stdout):</b>
       {
         "only 28 or 29 days in february": {"type": "datetime", "value": "1988-03-01T15:15:15.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/hour-over</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29613):</b>
       # time-hour       = 2DIGIT  ; 00-23
       d = 2006-01-01T24:00:00-00:00

<b>     output from parser-cmd (PID 29613) (stdout):</b>
       {
         "d": {"type": "datetime", "value": "2006-01-02T00:00:00.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/no-secs</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29802):</b>
       # No seconds in time.
       no-secs = 1987-07-05T17:45Z

<b>     output from parser-cmd (PID 29802) (stdout):</b>
       {
         "no-secs": {"type": "datetime", "value": "1987-07-05T17:45:00.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/offset-minus-no-hour-minute-sep</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29863):</b>
       foo = 1997-09-09T09:09:09.09+0909

<b>     output from parser-cmd (PID 29863) (stdout):</b>
       {
         "foo": {"type": "datetime", "value": "1997-09-09T00:00:09.090Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/offset-overflow-hour</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 29920):</b>
       # Hour must be 00-24
       d = 1985-06-18 17:04:07+25:00

<b>     output from parser-cmd (PID 29920) (stdout):</b>
       {
         "d": {"type": "datetime", "value": "1985-06-17T16:04:07.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/offset-plus-no-hour-minute-sep</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30027):</b>
       foo = 1997-09-09T09:09:09.09+0909

<b>     output from parser-cmd (PID 30027) (stdout):</b>
       {
         "foo": {"type": "datetime", "value": "1997-09-09T00:00:09.090Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-codepoint</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30234):</b>
       # Invalid codepoint U+D800 : Ì†Ä

<b>     output from parser-cmd (PID 30234) (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-comment</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30325):</b>
       # √

<b>     output from parser-cmd (PID 30325) (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-multiline</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30365):</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = """√"""

<b>     output from parser-cmd (PID 30365) (stdout):</b>
       {
         "bad": {"type": "string", "value": "ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-multiline-literal</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30366):</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = '''√'''

<b>     output from parser-cmd (PID 30366) (stdout):</b>
       {
         "bad": {"type": "string", "value": "ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-string</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30367):</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = "√"

<b>     output from parser-cmd (PID 30367) (stdout):</b>
       {
         "bad": {"type": "string", "value": "ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-string-literal</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 30364):</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = '√'

<b>     output from parser-cmd (PID 30364) (stdout):</b>
       {
         "bad": {"type": "string", "value": "ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/float/leading-zero</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31292):</b>
       leading-zero = 03.14

<b>     output from parser-cmd (PID 31292) (stdout):</b>
       {
         "leading-zero": {"type": "float", "value": "3.14"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/float/leading-zero-neg</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31284):</b>
       leading-zero-neg = -03.14

<b>     output from parser-cmd (PID 31284) (stdout):</b>
       {
         "leading-zero-neg": {"type": "float", "value": "-3.14"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/float/leading-zero-plus</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31286):</b>
       leading-zero-plus = +03.14

<b>     output from parser-cmd (PID 31286) (stdout):</b>
       {
         "leading-zero-plus": {"type": "float", "value": "3.14"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/duplicate-key-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31886):</b>
       # Duplicate keys within an inline table are invalid
       a={b=1, b=2}

<b>     output from parser-cmd (PID 31886) (stdout):</b>
       {
         "a": {
           "b": {"type": "float", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/duplicate-key-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31887):</b>
       table1 = { table2.dupe = 1, table2.dupe = 2 }

<b>     output from parser-cmd (PID 31887) (stdout):</b>
       {
         "table1": {
           "table2": {
             "dupe": {"type": "float", "value": "2"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/duplicate-key-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31888):</b>
       tbl = { fruit = { apple.color = "red" }, fruit.apple.texture = { smooth = true } }

<b>     output from parser-cmd (PID 31888) (stdout):</b>
       {
         "tbl": {
           "fruit": {
             "apple": {
               "color": {"type": "string", "value": "red"},
               "texture": {
                 "smooth": {"type": "bool", "value": "true"}
               }
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/duplicate-key-04</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 31946):</b>
       tbl = { a.b = "a_b", a.b.c = "a_b_c" }

<b>     output from parser-cmd (PID 31946) (stdout):</b>
       {
         "tbl": {
           "a": {
             "b": {
               "c": {"type": "string", "value": "a_b_c"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32203):</b>
       a.b=0
       # Since table "a" is already defined, it can't be replaced by an inline table.
       a={}

<b>     output from parser-cmd (PID 32203) (stdout):</b>
       {
         "a": {
           "b": {"type": "float", "value": "0"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32204):</b>
       a={}
       # Inline tables are immutable and can't be extended
       [a.b]

<b>     output from parser-cmd (PID 32204) (stdout):</b>
       {
         "a": {
           "b": {}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32205):</b>
       a = { b = 1 }
       a.b = 2

<b>     output from parser-cmd (PID 32205) (stdout):</b>
       {
         "a": {
           "b": {"type": "float", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-06</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32279):</b>
       a = { b = 1, b.c = 2 }

<b>     output from parser-cmd (PID 32279) (stdout):</b>
       {
         "a": {
           "b": {
             "c": {"type": "float", "value": "2"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-07</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32283):</b>
       tab = { inner.table = [{}], inner.table.val = "bad" }

<b>     output from parser-cmd (PID 32283) (stdout):</b>
       {
         "tab": {
           "inner": {
             "table": {
               "val": {"type": "string", "value": "bad"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-08</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32284):</b>
       tab = { inner = { dog = "best" }, inner.cat = "worst" }

<b>     output from parser-cmd (PID 32284) (stdout):</b>
       {
         "tab": {
           "inner": {
             "cat": {"type": "string", "value": "worst"},
             "dog": {"type": "string", "value": "best"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-10</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32319):</b>
       # Set implicit "b", overwrite "b" (illegal!) and then set another implicit.
       #
       # Caused panic: https://github.com/BurntSushi/toml/issues/403
       a = {b.a = 1, b = 2, b.c = 3}

<b>     output from parser-cmd (PID 32319) (stdout):</b>
       {
         "a": {
           "b": {
             "c": {"type": "float", "value": "3"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/capital-hex</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 32397):</b>
       capital-hex = 0X1

<b>     output from parser-cmd (PID 32397) (stdout):</b>
       {
         "capital-hex": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 338):</b>
       leading-zero-1 = 01

<b>     output from parser-cmd (PID 338) (stdout):</b>
       {
         "leading-zero-1": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 383):</b>
       leading-zero-2 = 00

<b>     output from parser-cmd (PID 383) (stdout):</b>
       {
         "leading-zero-2": {"type": "float", "value": "0"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 387):</b>
       leading-zero-3 = 0_0

<b>     output from parser-cmd (PID 387) (stdout):</b>
       {
         "leading-zero-3": {"type": "float", "value": "0"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 388):</b>
       leading-zero-1 = 01

<b>     output from parser-cmd (PID 388) (stdout):</b>
       {
         "leading-zero-1": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 422):</b>
       leading-zero-2 = 00

<b>     output from parser-cmd (PID 422) (stdout):</b>
       {
         "leading-zero-2": {"type": "float", "value": "0"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 489):</b>
       leading-zero-3 = 0_0

<b>     output from parser-cmd (PID 489) (stdout):</b>
       {
         "leading-zero-3": {"type": "float", "value": "0"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-sign-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 500):</b>
       leading-zero-sign-1 = -01

<b>     output from parser-cmd (PID 500) (stdout):</b>
       {
         "leading-zero-sign-1": {"type": "float", "value": "-1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-sign-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 507):</b>
       leading-zero-sign-2 = +01

<b>     output from parser-cmd (PID 507) (stdout):</b>
       {
         "leading-zero-sign-2": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-sign-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 540):</b>
       leading-zero-sign-3 = +0_1

<b>     output from parser-cmd (PID 540) (stdout):</b>
       {
         "leading-zero-sign-3": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-sign-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 541):</b>
       leading-zero-sign-1 = -01

<b>     output from parser-cmd (PID 541) (stdout):</b>
       {
         "leading-zero-sign-1": {"type": "float", "value": "-1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-sign-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 598):</b>
       leading-zero-sign-2 = +01

<b>     output from parser-cmd (PID 598) (stdout):</b>
       {
         "leading-zero-sign-2": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/leading-zero-sign-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 599):</b>
       leading-zero-sign-3 = +0_1

<b>     output from parser-cmd (PID 599) (stdout):</b>
       {
         "leading-zero-sign-3": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/after-array</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 979):</b>
       [[agencies]] owner = "S Cjelli"

<b>     output from parser-cmd (PID 979) (stdout):</b>
       {
         "agencies": [{
           "owner": {"type": "string", "value": "S Cjelli"}
         }]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/after-table</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 980):</b>
       [error] this = "should not be here"

<b>     output from parser-cmd (PID 980) (stdout):</b>
       {
         "error": {
           "this": {"type": "string", "value": "should not be here"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/after-value</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1020):</b>
       first = "Tom" last = "Preston-Werner" # INVALID

<b>     output from parser-cmd (PID 1020) (stdout):</b>
       {
         "first": {"type": "string", "value": "Tom"},
         "last":  {"type": "string", "value": "Preston-Werner"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/dotted-redefine-table-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1154):</b>
       a = false
       a.b = true

<b>     output from parser-cmd (PID 1154) (stdout):</b>
       {
         "a": {
           "b": {"type": "bool", "value": "true"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/dotted-redefine-table-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1181):</b>
       # Defined a.b as int
       a.b = 1
       # Tries to access it as table: error
       a.b.c = 2

<b>     output from parser-cmd (PID 1181) (stdout):</b>
       {
         "a": {
           "b": {
             "c": {"type": "float", "value": "2"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1182):</b>
       name = "Tom"
       name = "Pradyun"

<b>     output from parser-cmd (PID 1182) (stdout):</b>
       {
         "name": {"type": "string", "value": "Pradyun"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1186):</b>
       dupe = false
       dupe = true

<b>     output from parser-cmd (PID 1186) (stdout):</b>
       {
         "dupe": {"type": "bool", "value": "true"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1191):</b>
       spelling   = "favorite"
       "spelling" = "favourite"

<b>     output from parser-cmd (PID 1191) (stdout):</b>
       {
         "spelling": {"type": "string", "value": "favourite"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-04</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1370):</b>
       spelling   = "favorite"
       'spelling' = "favourite"

<b>     output from parser-cmd (PID 1370) (stdout):</b>
       {
         "spelling": {"type": "string", "value": "favourite"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-05</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1371):</b>
       a        = 1
       "\u0061" = 1

<b>     output from parser-cmd (PID 1371) (stdout):</b>
       {
         "a": {"type": "float", "value": "1"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-06</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1449):</b>
       "a'b"      = 1
       "a\u0027b" = 2

<b>     output from parser-cmd (PID 1449) (stdout):</b>
       {
         "a'b": {"type": "float", "value": "2"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/duplicate-keys-07</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1450):</b>
       "" = 1
       "" = 2

<b>     output from parser-cmd (PID 1450) (stdout):</b>
       {
         "": {"type": "float", "value": "2"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/no-eol-01</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1757):</b>
       a = 1 b = 2

<b>     output from parser-cmd (PID 1757) (stdout):</b>
       {
         "a": {"type": "float", "value": "1"},
         "b": {"type": "float", "value": "2"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/no-eol-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1781):</b>
       0=""o=""m=""r=""00="0"q="""0"""e="""0"""

<b>     output from parser-cmd (PID 1781) (stdout):</b>
       {
         "0":  {"type": "string", "value": ""},
         "00": {"type": "string", "value": "0"},
         "e":  {"type": "string", "value": "0"},
         "m":  {"type": "string", "value": ""},
         "o":  {"type": "string", "value": ""},
         "q":  {"type": "string", "value": "0"},
         "r":  {"type": "string", "value": ""}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/no-eol-04</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 1817):</b>
       [[0000l0]]
       0="0"[[0000l0]]
       0="0"[[0000l0]]
       0="0"l="0"

<b>     output from parser-cmd (PID 1817) (stdout):</b>
       {
         "0000l0": [
           {
             "0": {"type": "string", "value": "0"}
           },
           {
             "0": {"type": "string", "value": "0"}
           },
           {
             "0": {"type": "string", "value": "0"},
             "l": {"type": "string", "value": "0"}
           }
         ]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-date/feb-29</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2372):</b>
       "not a leap year" = 2100-02-29

<b>     output from parser-cmd (PID 2372) (stdout):</b>
       {
         "not a leap year": {"type": "datetime", "value": "2100-03-01T00:00:00.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-date/feb-30</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2373):</b>
       "only 28 or 29 days in february" = 1988-02-30

<b>     output from parser-cmd (PID 2373) (stdout):</b>
       {
         "only 28 or 29 days in february": {"type": "datetime", "value": "1988-03-01T00:00:00.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-datetime/feb-29</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2614):</b>
       "not a leap year" = 2100-02-29T15:15:15

<b>     output from parser-cmd (PID 2614) (stdout):</b>
       {
         "not a leap year": {"type": "datetime", "value": "2100-03-01T15:15:15.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-datetime/feb-30</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2618):</b>
       "only 28 or 29 days in february" = 1988-02-30T15:15:15

<b>     output from parser-cmd (PID 2618) (stdout):</b>
       {
         "only 28 or 29 days in february": {"type": "datetime", "value": "1988-03-01T15:15:15.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-datetime/hour-over</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2619):</b>
       # time-hour       = 2DIGIT  ; 00-23
       d = 2006-01-01T24:00:00

<b>     output from parser-cmd (PID 2619) (stdout):</b>
       {
         "d": {"type": "datetime", "value": "2006-01-02T00:00:00.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-datetime/no-secs</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2811):</b>
       # No seconds in time.
       no-secs = 1987-07-05T17:45

<b>     output from parser-cmd (PID 2811) (stdout):</b>
       {
         "no-secs": {"type": "datetime", "value": "1987-07-05T16:45:00.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-time/hour-over</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2911):</b>
       # time-hour       = 2DIGIT  ; 00-23
       d = 24:00:00

<b>     output from parser-cmd (PID 2911) (stdout):</b>
       {
         "d": {"type": "string", "value": "24:00:00"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-time/minute-over</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2953):</b>
       # time-minute     = 2DIGIT  ; 00-59
       d = 00:60:00

<b>     output from parser-cmd (PID 2953) (stdout):</b>
       {
         "d": {"type": "string", "value": "00:60:00"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-time/second-over</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 2955):</b>
       # time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
       #                           ; rules
       d = 00:00:61

<b>     output from parser-cmd (PID 2955) (stdout):</b>
       {
         "d": {"type": "string", "value": "00:00:61"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/spec-1.0.0/inline-table-2-0</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3065):</b>
       [product]
       type = { name = "Nail" }
       type.edible = false  # INVALID

<b>     output from parser-cmd (PID 3065) (stdout):</b>
       {
         "product": {
           "type": {
             "edible": {"type": "bool", "value": "false"},
             "name":   {"type": "string", "value": "Nail"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/spec-1.0.0/inline-table-3-0</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3066):</b>
       [product]
       type.name = "Nail"
       type = { edible = false }  # INVALID

<b>     output from parser-cmd (PID 3066) (stdout):</b>
       {
         "product": {
           "type": {
             "edible": {"type": "bool", "value": "false"},
             "name":   {"type": "string", "value": "Nail"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-03</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3603):</b>
       bad-uni-esc-3 = "val\U0000000"

<b>     output from parser-cmd (PID 3603) (stdout):</b>
       {
         "bad-uni-esc-3": {"type": "string", "value": "val\u00000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-06</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3689):</b>
       bad-uni-esc-6 = "This string contains a non scalar unicode codepoint \uD801"

<b>     output from parser-cmd (PID 3689) (stdout):</b>
       {
         "bad-uni-esc-6": {"type": "string", "value": "This string contains a non scalar unicode codepoint ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-07</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3690):</b>
       bad-uni-esc-7 = "\uabag"

<b>     output from parser-cmd (PID 3690) (stdout):</b>
       {
         "bad-uni-esc-7": {"type": "string", "value": "‡™∫"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3757):</b>
       bad-uni-esc-3 = "val\U0000000"

<b>     output from parser-cmd (PID 3757) (stdout):</b>
       {
         "bad-uni-esc-3": {"type": "string", "value": "val\u00000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-6</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3857):</b>
       bad-uni-esc-6 = "This string contains a non scalar unicode codepoint \uD801"

<b>     output from parser-cmd (PID 3857) (stdout):</b>
       {
         "bad-uni-esc-6": {"type": "string", "value": "This string contains a non scalar unicode codepoint ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-7</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3867):</b>
       bad-uni-esc-7 = "\uabag"

<b>     output from parser-cmd (PID 3867) (stdout):</b>
       {
         "bad-uni-esc-7": {"type": "string", "value": "‡™∫"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-ml-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3889):</b>
       bad-uni-esc-ml-3 = """val\U0000000"""

<b>     output from parser-cmd (PID 3889) (stdout):</b>
       {
         "bad-uni-esc-ml-3": {"type": "string", "value": "val\u00000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-ml-6</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 3999):</b>
       bad-uni-esc-ml-6 = """This string contains a non scalar unicode codepoint \uD801"""

<b>     output from parser-cmd (PID 3999) (stdout):</b>
       {
         "bad-uni-esc-ml-6": {"type": "string", "value": "This string contains a non scalar unicode codepoint ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-ml-7</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 4004):</b>
       bad-uni-esc-ml-7 = """\uabag"""

<b>     output from parser-cmd (PID 4004) (stdout):</b>
       {
         "bad-uni-esc-ml-7": {"type": "string", "value": "‡™∫"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/basic-multiline-out-of-range-unicode-escape-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 4031):</b>
       a = """\U00D80000"""

<b>     output from parser-cmd (PID 4031) (stdout):</b>
       {
         "a": {"type": "string", "value": "ÔøΩ00"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/basic-out-of-range-unicode-escape-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 4139):</b>
       a = "\U00D80000"

<b>     output from parser-cmd (PID 4139) (stdout):</b>
       {
         "a": {"type": "string", "value": "ÔøΩ00"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/append-with-dotted-keys-05</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 5207):</b>
       a.b.c = 1
       a.b = 2

<b>     output from parser-cmd (PID 5207) (stdout):</b>
       {
         "a": {
           "b": {"type": "float", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/append-with-dotted-keys-06</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 5208):</b>
       a = 1
       a.b = 2

<b>     output from parser-cmd (PID 5208) (stdout):</b>
       {
         "a": {
           "b": {"type": "float", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/append-with-dotted-keys-07</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd (PID 5209):</b>
       a = {k1 = 1, k1.name = "joe"}

<b>     output from parser-cmd (PID 5209) (stdout):</b>
       {
         "a": {
           "k1": {
             "name": {"type": "string", "value": "joe"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

toml-test v2025-04-23 [./js-deno-toml-decoder.ts]: using embedded tests,  1 skipped
  valid tests: 174 passed, 30 failed
invalid tests: 420 passed, 109 failed

==> ENCODER TESTS
<b>FAIL</b> <b>valid/array/array</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 1 (last key "dates"): expected value but found "null" instead

<b>     input sent to parser-cmd (PID 6545):</b>
       {
           "comments": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"}
           ],
           "dates": [
               {"type": "datetime", "value": "1987-07-05T17:45:00Z"},
               {"type": "datetime-local", "value": "1979-05-27T07:32:00"},
               {"type": "date-local", "value": "2006-06-01"},
               {"type": "time-local", "value": "11:00:00"}
           ],
           "floats": [
               {"type": "float", "value": "1.1"},
               {"type": "float", "value": "2.1"},
               {"type": "float", "value": "3.1"}
           ],
           "ints": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "3"}
           ],
           "strings": [
               {"type": "string", "value": "a"},
               {"type": "string", "value": "b"},
               {"type": "string", "value": "c"}
           ]
       }

<b>     output from parser-cmd (PID 6545) (stdout):</b>
       dates = ["1987-07-05T17:45:00.000Z","1979-05-27T06:32:00.000Z","2006-06-01T00:00:00.000Z",null]
       floats = [1.1,2.1,3.1]
       strings = ["a","b","c"]

       [[comments]]

       [[comments]]

       [[ints]]

       [[ints]]

       [[ints]]

<b>     want:</b>
       ints = [1, 2, 3, ]
       floats = [1.1, 2.1, 3.1]
       strings = ["a", "b", "c"]
       dates = [
       	1987-07-05T17:45:00Z,
       	1979-05-27T07:32:00,
       	2006-06-01,
       	11:00:00,
       ]
       comments = [
                1,
                2, #this is ok
       ]

<b>FAIL</b> <b>valid/array/array-subtables</b>
<b> </b>    Could not find key "arr.subtab.val" in encoder output

<b>     input sent to parser-cmd (PID 6552):</b>
       {
           "arr": [
               {
                   "subtab": {
                       "val": {"type": "integer", "value": "1"}
                   }
               },
               {
                   "subtab": {
                       "val": {"type": "integer", "value": "2"}
                   }
               }
           ]
       }

<b>     output from parser-cmd (PID 6552) (stdout):</b>
       [[arr]]

       [arr.subtab]

       [[arr]]

       [arr.subtab]

<b>     want:</b>
       [[arr]]
       [arr.subtab]
       val=1

       [[arr]]
       [arr.subtab]
       val=2

<b>FAIL</b> <b>valid/array/hetergeneous</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 6663):</b>
       {
           "mixed": [
               [
                   {"type": "integer", "value": "1"},
                   {"type": "integer", "value": "2"}
               ],
               [
                   {"type": "string", "value": "a"},
                   {"type": "string", "value": "b"}
               ],
               [
                   {"type": "float", "value": "1.1"},
                   {"type": "float", "value": "2.1"}
               ]
           ]
       }

<b>     output from parser-cmd (PID 6663) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/array/mixed-int-array</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 6550):</b>
       {
           "arrays-and-ints": [
               {"type": "integer", "value": "1"},
               [{"type": "string", "value": "Arrays are not integers."}]
           ]
       }

<b>     output from parser-cmd (PID 6550) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/array/mixed-int-float</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 6662):</b>
       {
           "ints-and-floats": [
               {"type": "integer", "value": "1"},
               {"type": "float", "value": "1.1"}
           ]
       }

<b>     output from parser-cmd (PID 6662) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/array/mixed-int-string</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 6664):</b>
       {
           "strings-and-ints": [
               {"type": "string", "value": "hi"},
               {"type": "integer", "value": "42"}
           ]
       }

<b>     output from parser-cmd (PID 6664) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/array/mixed-string-table</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 6546):</b>
       {
           "contributors": [
               {"type": "string", "value": "Foo Bar \u003cfoo@example.com\u003e"},
               {
                   "email": {"type": "string", "value": "bazqux@example.com"},
                   "name":  {"type": "string", "value": "Baz Qux"},
                   "url":   {"type": "string", "value": "https://example.com/bazqux"}
               }
           ],
           "mixed": [
               {
                   "k": {"type": "string", "value": "a"}
               },
               {"type": "string", "value": "b"},
               {"type": "integer", "value": "1"}
           ]
       }

<b>     output from parser-cmd (PID 6546) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/array/nested-double</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 6661):</b>
       {
           "nest": [[
               [{"type": "string", "value": "a"}],
               [
                   {"type": "integer", "value": "1"},
                   {"type": "integer", "value": "2"},
                   [{"type": "integer", "value": "3"}]
               ]
           ]]
       }

<b>     output from parser-cmd (PID 6661) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/array/nospaces</b>
<b> </b>    Type for key "ints" differs:
<b> </b>      Expected:     1 (int64)
<b> </b>      Your encoder: map[] (map[string]any)

<b>     input sent to parser-cmd (PID 6559):</b>
       {
           "ints": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "3"}
           ]
       }

<b>     output from parser-cmd (PID 6559) (stdout):</b>
       [[ints]]

       [[ints]]

       [[ints]]

<b>     want:</b>
       ints = [1,2,3]

<b>FAIL</b> <b>valid/array/open-parent-table</b>
<b> </b>    Could not find key "parent-table.not-arr" in encoder output

<b>     input sent to parser-cmd (PID 6665):</b>
       {
           "parent-table": {
               "not-arr": {"type": "integer", "value": "1"},
               "arr": [
                   {},
                   {}
               ]
           }
       }

<b>     output from parser-cmd (PID 6665) (stdout):</b>
       [parent-table]

       [[parent-table.arr]]

       [[parent-table.arr]]

<b>     want:</b>
       [[parent-table.arr]]
       [[parent-table.arr]]
       [parent-table]
       not-arr = 1

<b>FAIL</b> <b>valid/array/trailing-comma</b>
<b> </b>    Type for key "arr-1" differs:
<b> </b>      Expected:     1 (int64)
<b> </b>      Your encoder: map[] (map[string]any)

<b>     input sent to parser-cmd (PID 6879):</b>
       {
           "arr-1": [{"type": "integer", "value": "1"}],
           "arr-3": [{"type": "integer", "value": "4"}],
           "arr-2": [
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "3"}
           ],
           "arr-4": [
               {"type": "integer", "value": "5"},
               {"type": "integer", "value": "6"}
           ]
       }

<b>     output from parser-cmd (PID 6879) (stdout):</b>
       [[arr-1]]

       [[arr-3]]

       [[arr-2]]

       [[arr-2]]

       [[arr-4]]

       [[arr-4]]

<b>     want:</b>
       arr-1 = [1,]

       arr-2 = [2,3,]

       arr-3 = [4,
       ]

       arr-4 = [
       	5,
       	6,
       ]

<b>FAIL</b> <b>valid/comment/after-literal-no-ws</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 3 (last key "nan"): expected value but found "NaN" instead

<b>     input sent to parser-cmd (PID 6881):</b>
       {
           "false": {"type": "bool", "value": "false"},
           "inf":   {"type": "float", "value": "inf"},
           "nan":   {"type": "float", "value": "nan"},
           "true":  {"type": "bool", "value": "true"}
       }

<b>     output from parser-cmd (PID 6881) (stdout):</b>
       false = false
       inf = inf
       nan = NaN
       true = true

<b>     want:</b>
       inf=inf#infinity
       nan=nan#not a number
       true=true#true
       false=false#false

<b>FAIL</b> <b>valid/comment/everywhere</b>
<b> </b>    Could not find key "aot.k" in encoder output

<b>     input sent to parser-cmd (PID 6901):</b>
       {
           "aot": [
               {
                   "k": {"type": "integer", "value": "98"}
               },
               {
                   "k": {"type": "integer", "value": "99"}
               }
           ],
           "group": {
               "answer": {"type": "integer", "value": "42"},
               "d":      {"type": "date-local", "value": "1979-05-27"},
               "dt":     {"type": "datetime", "value": "1979-05-27T07:32:12-07:00"},
               "more": [
                   {"type": "integer", "value": "42"},
                   {"type": "integer", "value": "42"}
               ]
           }
       }

<b>     output from parser-cmd (PID 6901) (stdout):</b>
       [[aot]]

       [[aot]]

       [group]
       d = 1979-05-27T00:00:00.000
       dt = 1979-05-27T14:32:12.000

       [[group.more]]

       [[group.more]]

<b>     want:</b>
       # Top comment.
         # Top comment.
       # Top comment.

       # [no-extraneous-groups-please]

       [group] # Comment
       answer = 42 # Comment
       # no-extraneous-keys-please = 999
       # Inbetween comment.
       more = [ # Comment
         # What about multiple # comments?
         # Can you handle it?
         #
                 # Evil.
       # Evil.
         42, 42, # Comments within arrays are fun.
         # What about multiple # comments?
         # Can you handle it?
         #
                 # Evil.
       # Evil.
       # ] Did I fool you?
       ] # Hopefully not.

       # Make sure the space between the datetime and "#" isn't lexed.
       dt = 1979-05-27T07:32:12-07:00  # c
       d = 1979-05-27 # Comment

       [[aot]] # Comment
       k = 98 # Comment
       [[aot]]# Comment
       k = 99# Comment

<b>FAIL</b> <b>valid/comment/tricky</b>
<b> </b>    Type for key "hash#tag.arr4" differs:
<b> </b>      Expected:     1 (int64)
<b> </b>      Your encoder: map[] (map[string]any)

<b>     input sent to parser-cmd (PID 6932):</b>
       {
           "hash#tag": {
               "#!":   {"type": "string", "value": "hash bang"},
               "arr5": [[[[[{"type": "string", "value": "#"}]]]]],
               "arr3": [
                   {"type": "string", "value": "#"},
                   {"type": "string", "value": "#"},
                   {"type": "string", "value": "###"}
               ],
               "arr4": [
                   {"type": "integer", "value": "1"},
                   {"type": "integer", "value": "2"},
                   {"type": "integer", "value": "3"},
                   {"type": "integer", "value": "4"}
               ],
               "tbl1": {
                   "#": {"type": "string", "value": "}#"}
               }
           },
           "section": {
               "8":      {"type": "string", "value": "eight"},
               "eleven": {"type": "float", "value": "11.1"},
               "five":   {"type": "float", "value": "5.5"},
               "four":   {"type": "string", "value": "# no comment\n# nor this\n#also not comment"},
               "one":    {"type": "string", "value": "11"},
               "six":    {"type": "integer", "value": "6"},
               "ten":    {"type": "float", "value": "1000.0"},
               "three":  {"type": "string", "value": "#"},
               "two":    {"type": "string", "value": "22#"}
           }
       }

<b>     output from parser-cmd (PID 6932) (stdout):</b>
       ["hash#tag"]
       "#!" = "hash bang"
       arr5 = [[[[["#"]]]]]
       arr3 = ["#","#","###"]

       [["hash#tag".arr4]]

       [["hash#tag".arr4]]

       [["hash#tag".arr4]]

       [["hash#tag".arr4]]

       ["hash#tag".tbl1]
       "#" = "}#"

       [section]
       8 = "eight"
       eleven = 11.1
       five = 5.5
       four = "# no comment\n# nor this\n#also not comment"
       one = "11"
       ten = 1000
       three = "#"
       two = "22#"

<b>     want:</b>
       [section]#attached comment
       #[notsection]
       one = "11"#cmt
       two = "22#"
       three = '#'

       four = """# no comment
       # nor this
       #also not comment"""#is_comment

       five = 5.5#66
       six = 6#7
       8 = "eight"
       #nine = 99
       ten = 10e2#1
       eleven = 1.11e1#23

       ["hash#tag"]
       "#!" = "hash bang"
       arr3 = [ "#", '#', """###""" ]
       arr4 = [ 1,# 9, 9,
       2#,9
       ,#9
       3#]
       ,4]
       arr5 = [[[[#["#"],
       ["#"]]]]#]
       ]
       tbl1 = { "#" = '}#'}#}}

<b>FAIL</b> <b>valid/datetime/datetime</b>
<b> </b>    Values for key "lower" differ:
<b> </b>      Expected:     1987-07-05 17:45:00 +0000 UTC (time.Time)
<b> </b>      Your encoder: 1987-07-05 17:45:00 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 6980):</b>
       {
           "lower": {"type": "datetime", "value": "1987-07-05T17:45:00Z"},
           "space": {"type": "datetime", "value": "1987-07-05T17:45:00Z"}
       }

<b>     output from parser-cmd (PID 6980) (stdout):</b>
       lower = 1987-07-05T17:45:00.000
       space = 1987-07-05T17:45:00.000

<b>     want:</b>
       space = 1987-07-05 17:45:00Z

       # ABNF is case-insensitive, both "Z" and "z" must be supported.
       lower = 1987-07-05t17:45:00z

<b>FAIL</b> <b>valid/datetime/edge</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 1 (last key "first-date"): invalid datetime: "1-01-01T00:00:00.000"

<b>     input sent to parser-cmd (PID 7114):</b>
       {
           "first-date":   {"type": "date-local", "value": "0001-01-01"},
           "first-local":  {"type": "datetime-local", "value": "0001-01-01T00:00:00"},
           "first-offset": {"type": "datetime", "value": "0001-01-01T00:00:00Z"},
           "last-date":    {"type": "date-local", "value": "9999-12-31"},
           "last-local":   {"type": "datetime-local", "value": "9999-12-31T23:59:59"},
           "last-offset":  {"type": "datetime", "value": "9999-12-31T23:59:59Z"}
       }

<b>     output from parser-cmd (PID 7114) (stdout):</b>
       first-date = 1-01-01T00:00:00.000
       first-local = 1-01-01T00:25:21.000
       first-offset = 1-01-01T00:00:00.000
       last-date = 9999-12-31T00:00:00.000
       last-local = 9999-12-31T23:59:59.000
       last-offset = 9999-12-31T23:59:59.000

<b>     want:</b>
       first-offset = 0001-01-01 00:00:00Z
       first-local  = 0001-01-01 00:00:00
       first-date   = 0001-01-01

       last-offset = 9999-12-31 23:59:59Z
       last-local  = 9999-12-31 23:59:59
       last-date   = 9999-12-31

<b>FAIL</b> <b>valid/datetime/leap-year</b>
<b> </b>    Values for key "2000-datetime" differ:
<b> </b>      Expected:     2000-02-29 15:15:15 +0000 UTC (time.Time)
<b> </b>      Your encoder: 2000-02-29 15:15:15 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 7197):</b>
       {
           "2000-date":           {"type": "date-local", "value": "2000-02-29"},
           "2000-datetime":       {"type": "datetime", "value": "2000-02-29T15:15:15Z"},
           "2000-datetime-local": {"type": "datetime-local", "value": "2000-02-29T15:15:15"},
           "2024-date":           {"type": "date-local", "value": "2024-02-29"},
           "2024-datetime":       {"type": "datetime", "value": "2024-02-29T15:15:15Z"},
           "2024-datetime-local": {"type": "datetime-local", "value": "2024-02-29T15:15:15"}
       }

<b>     output from parser-cmd (PID 7197) (stdout):</b>
       2000-date = 2000-02-29T00:00:00.000
       2000-datetime = 2000-02-29T15:15:15.000
       2000-datetime-local = 2000-02-29T15:15:15.000
       2024-date = 2024-02-29T00:00:00.000
       2024-datetime = 2024-02-29T15:15:15.000
       2024-datetime-local = 2024-02-29T15:15:15.000

<b>     want:</b>
       2000-datetime       = 2000-02-29 15:15:15Z
       2000-datetime-local = 2000-02-29 15:15:15
       2000-date           = 2000-02-29

       2024-datetime       = 2024-02-29 15:15:15Z
       2024-datetime-local = 2024-02-29 15:15:15
       2024-date           = 2024-02-29

<b>FAIL</b> <b>valid/datetime/local</b>
<b> </b>    Values for key "local" differ:
<b> </b>      Expected:     1987-07-05 17:45:00 +0100 datetime-local (time.Time)
<b> </b>      Your encoder: 1987-07-05 16:45:00 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 7201):</b>
       {
           "local": {"type": "datetime-local", "value": "1987-07-05T17:45:00"},
           "milli": {"type": "datetime-local", "value": "1977-12-21T10:32:00.555"},
           "space": {"type": "datetime-local", "value": "1987-07-05T17:45:00"}
       }

<b>     output from parser-cmd (PID 7201) (stdout):</b>
       local = 1987-07-05T16:45:00.000
       milli = 1977-12-21T10:32:00.555
       space = 1987-07-05T16:45:00.000

<b>     want:</b>
       local = 1987-07-05T17:45:00
       milli = 1977-12-21T10:32:00.555
       space = 1987-07-05 17:45:00

<b>FAIL</b> <b>valid/datetime/local-time</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 1 (last key "besttimeever"): expected value but found "NaN" instead

<b>     input sent to parser-cmd (PID 7200):</b>
       {
           "besttimeever": {"type": "time-local", "value": "17:45:00"},
           "milliseconds": {"type": "time-local", "value": "10:32:00.555"}
       }

<b>     output from parser-cmd (PID 7200) (stdout):</b>
       besttimeever = NaN-NaN-NaNTNaN:NaN:NaN.NaN
       milliseconds = NaN-NaN-NaNTNaN:NaN:NaN.NaN

<b>     want:</b>
       besttimeever = 17:45:00
       milliseconds = 10:32:00.555

<b>FAIL</b> <b>valid/datetime/milliseconds</b>
<b> </b>    Values for key "utc1" differ:
<b> </b>      Expected:     1987-07-05 17:45:56.123 +0000 UTC (time.Time)
<b> </b>      Your encoder: 1987-07-05 17:45:56.123 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 7202):</b>
       {
           "utc1":  {"type": "datetime", "value": "1987-07-05T17:45:56.123Z"},
           "utc2":  {"type": "datetime", "value": "1987-07-05T17:45:56.600Z"},
           "wita1": {"type": "datetime", "value": "1987-07-05T17:45:56.123+08:00"},
           "wita2": {"type": "datetime", "value": "1987-07-05T17:45:56.600+08:00"}
       }

<b>     output from parser-cmd (PID 7202) (stdout):</b>
       utc1 = 1987-07-05T17:45:56.123
       utc2 = 1987-07-05T17:45:56.600
       wita1 = 1987-07-05T09:45:56.123
       wita2 = 1987-07-05T09:45:56.600

<b>     want:</b>
       utc1  = 1987-07-05T17:45:56.123Z
       utc2  = 1987-07-05T17:45:56.6Z
       wita1 = 1987-07-05T17:45:56.123+08:00
       wita2 = 1987-07-05T17:45:56.6+08:00

<b>FAIL</b> <b>valid/datetime/timezone</b>
<b> </b>    Values for key "nzdt" differ:
<b> </b>      Expected:     1987-07-05 17:45:56 +1300 +1300 (time.Time)
<b> </b>      Your encoder: 1987-07-05 04:45:56 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 7203):</b>
       {
           "nzdt": {"type": "datetime", "value": "1987-07-05T17:45:56+13:00"},
           "nzst": {"type": "datetime", "value": "1987-07-05T17:45:56+12:00"},
           "pdt":  {"type": "datetime", "value": "1987-07-05T17:45:56-05:00"},
           "utc":  {"type": "datetime", "value": "1987-07-05T17:45:56Z"}
       }

<b>     output from parser-cmd (PID 7203) (stdout):</b>
       nzdt = 1987-07-05T04:45:56.000
       nzst = 1987-07-05T05:45:56.000
       pdt = 1987-07-05T22:45:56.000
       utc = 1987-07-05T17:45:56.000

<b>     want:</b>
       utc  = 1987-07-05T17:45:56Z
       pdt  = 1987-07-05T17:45:56-05:00
       nzst = 1987-07-05T17:45:56+12:00
       nzdt = 1987-07-05T17:45:56+13:00  # DST

<b>FAIL</b> <b>valid/example</b>
<b> </b>    Values for key "best-day-ever" differ:
<b> </b>      Expected:     1987-07-05 17:45:00 +0000 UTC (time.Time)
<b> </b>      Your encoder: 1987-07-05 17:45:00 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 7357):</b>
       {
           "best-day-ever": {"type": "datetime", "value": "1987-07-05T17:45:00Z"},
           "numtheory": {
               "boring": {"type": "bool", "value": "false"},
               "perfection": [
                   {"type": "integer", "value": "6"},
                   {"type": "integer", "value": "28"},
                   {"type": "integer", "value": "496"}
               ]
           }
       }

<b>     output from parser-cmd (PID 7357) (stdout):</b>
       best-day-ever = 1987-07-05T17:45:00.000

       [numtheory]
       boring = false

       [[numtheory.perfection]]

       [[numtheory.perfection]]

       [[numtheory.perfection]]

<b>     want:</b>
       best-day-ever = 1987-07-05T17:45:00Z

       [numtheory]
       boring = false
       perfection = [6, 28, 496]

<b>FAIL</b> <b>valid/float/inf-and-nan</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 4 (last key "nan"): expected value but found "NaN" instead

<b>     input sent to parser-cmd (PID 7378):</b>
       {
           "infinity":      {"type": "float", "value": "inf"},
           "infinity_neg":  {"type": "float", "value": "-inf"},
           "infinity_plus": {"type": "float", "value": "inf"},
           "nan":           {"type": "float", "value": "nan"},
           "nan_neg":       {"type": "float", "value": "nan"},
           "nan_plus":      {"type": "float", "value": "nan"}
       }

<b>     output from parser-cmd (PID 7378) (stdout):</b>
       infinity = inf
       infinity_neg = -inf
       infinity_plus = inf
       nan = NaN
       nan_neg = NaN
       nan_plus = NaN

<b>     want:</b>
       # We don't encode +nan and -nan back with the signs; many languages don't
       # support a sign on NaN (it doesn't really make much sense).
       nan = nan
       nan_neg = -nan
       nan_plus = +nan
       infinity = inf
       infinity_neg = -inf
       infinity_plus = +inf

<b>FAIL</b> <b>valid/implicit-and-explicit-after</b>
<b> </b>    Could not find key "a.better" in encoder output

<b>     input sent to parser-cmd (PID 7527):</b>
       {
           "a": {
               "better": {"type": "integer", "value": "43"},
               "b": {
                   "c": {
                       "answer": {"type": "integer", "value": "42"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 7527) (stdout):</b>
       [a.b.c]

<b>     want:</b>
       [a.b.c]
       answer = 42

       [a]
       better = 43

<b>FAIL</b> <b>valid/implicit-and-explicit-before</b>
<b> </b>    Could not find key "a.better" in encoder output

<b>     input sent to parser-cmd (PID 7528):</b>
       {
           "a": {
               "better": {"type": "integer", "value": "43"},
               "b": {
                   "c": {
                       "answer": {"type": "integer", "value": "42"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 7528) (stdout):</b>
       [a.b.c]

<b>     want:</b>
       [a]
       better = 43

       [a.b.c]
       answer = 42

<b>FAIL</b> <b>valid/implicit-groups</b>
<b> </b>    Could not find key "a.b.c.answer" in encoder output

<b>     input sent to parser-cmd (PID 7530):</b>
       {
           "a": {
               "b": {
                   "c": {
                       "answer": {"type": "integer", "value": "42"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 7530) (stdout):</b>
       [a.b.c]

<b>     want:</b>
       [a.b.c]
       answer = 42

<b>FAIL</b> <b>valid/inline-table/array-01</b>
<b> </b>    Could not find key "arr.a" in encoder output

<b>     input sent to parser-cmd (PID 7581):</b>
       {
           "arr": [
               {
                   "a": {"type": "integer", "value": "1"}
               },
               {
                   "a": {"type": "integer", "value": "2"}
               }
           ],
           "people": [
               {
                   "first_name": {"type": "string", "value": "Bruce"},
                   "last_name":  {"type": "string", "value": "Springsteen"}
               },
               {
                   "first_name": {"type": "string", "value": "Eric"},
                   "last_name":  {"type": "string", "value": "Clapton"}
               },
               {
                   "first_name": {"type": "string", "value": "Bob"},
                   "last_name":  {"type": "string", "value": "Seger"}
               }
           ]
       }

<b>     output from parser-cmd (PID 7581) (stdout):</b>
       [[arr]]

       [[arr]]

       [[people]]
       first_name = "Bruce"
       last_name = "Springsteen"

       [[people]]
       first_name = "Eric"
       last_name = "Clapton"

       [[people]]
       first_name = "Bob"
       last_name = "Seger"

<b>     want:</b>
       arr = [ {'a'= 1}, {'a'= 2} ]

       people = [{first_name = "Bruce", last_name = "Springsteen"},
                 {first_name = "Eric", last_name = "Clapton"},
                 {first_name = "Bob", last_name = "Seger"}]

<b>FAIL</b> <b>valid/inline-table/array-03</b>
<b> </b>    Type for key "b.a" differs:
<b> </b>      Expected:     1 (int64)
<b> </b>      Your encoder: map[] (map[string]any)

<b>     input sent to parser-cmd (PID 7622):</b>
       {
           "b": {
               "a": [
                   {"type": "integer", "value": "1"},
                   {"type": "integer", "value": "2"}
               ],
               "b": [
                   {"type": "integer", "value": "3"},
                   {"type": "integer", "value": "4"}
               ]
           }
       }

<b>     output from parser-cmd (PID 7622) (stdout):</b>
       [b]

       [[b.a]]

       [[b.a]]

       [[b.b]]

       [[b.b]]

<b>     want:</b>
       b = { a = [
       		1,
       		2,
       	], b = [
       		3,
       		4,
       	]}

<b>FAIL</b> <b>valid/inline-table/empty</b>
<b> </b>    Could not find key "empty_in_array.not_empty" in encoder output

<b>     input sent to parser-cmd (PID 7633):</b>
       {
           "empty1":   {},
           "empty2":   {},
           "with_cmt": {},
           "empty_in_array": [
               {
                   "not_empty": {"type": "integer", "value": "1"}
               },
               {}
           ],
           "empty_in_array2": [
               {},
               {
                   "not_empty": {"type": "integer", "value": "1"}
               }
           ],
           "many_empty": [
               {},
               {},
               {}
           ],
           "nested_empty": {
               "empty": {}
           }
       }

<b>     output from parser-cmd (PID 7633) (stdout):</b>
       [empty1]

       [empty2]

       [with_cmt]

       [[empty_in_array]]

       [[empty_in_array]]

       [[empty_in_array2]]

       [[empty_in_array2]]

       [[many_empty]]

       [[many_empty]]

       [[many_empty]]

       [nested_empty.empty]

<b>     want:</b>
       empty1 = {}
       empty2 = { }
       empty_in_array = [ { not_empty = 1 }, {} ]
       empty_in_array2 = [{},{not_empty=1}]
       many_empty = [{},{},{}]
       nested_empty = {"empty"={}}
       with_cmt ={            }#nothing here

<b>FAIL</b> <b>valid/inline-table/inline-table</b>
<b> </b>    Could not find key "point.x" in encoder output

<b>     input sent to parser-cmd (PID 7635):</b>
       {
           "name": {
               "first": {"type": "string", "value": "Tom"},
               "last":  {"type": "string", "value": "Preston-Werner"}
           },
           "point": {
               "x": {"type": "integer", "value": "1"},
               "y": {"type": "integer", "value": "2"}
           },
           "simple": {
               "a": {"type": "integer", "value": "1"}
           },
           "str-key": {
               "a": {"type": "integer", "value": "1"}
           },
           "table-array": [
               {
                   "a": {"type": "integer", "value": "1"}
               },
               {
                   "b": {"type": "integer", "value": "2"}
               }
           ]
       }

<b>     output from parser-cmd (PID 7635) (stdout):</b>
       [name]
       first = "Tom"
       last = "Preston-Werner"

       [point]

       [simple]

       [str-key]

       [[table-array]]

       [[table-array]]

<b>     want:</b>
       name        = { first = "Tom", last = "Preston-Werner" }
       point       = { x = 1, y = 2 }
       simple      = { a = 1 }
       str-key     = { "a" = 1 }
       table-array = [{ "a" = 1 }, { "b" = 2 }]

<b>FAIL</b> <b>valid/inline-table/key-dotted-1</b>
<b> </b>    Could not find key "a.a.b" in encoder output

<b>     input sent to parser-cmd (PID 7676):</b>
       {
           "a": {
               "a": {
                   "b": {"type": "integer", "value": "1"}
               }
           },
           "b": {
               "a": {
                   "b": {"type": "integer", "value": "1"}
               }
           },
           "c": {
               "a": {
                   "b": {"type": "integer", "value": "1"}
               }
           },
           "d": {
               "a": {
                   "b": {"type": "integer", "value": "1"}
               }
           },
           "e": {
               "a": {
                   "b": {"type": "integer", "value": "1"}
               }
           }
       }

<b>     output from parser-cmd (PID 7676) (stdout):</b>
       [a.a]

       [b.a]

       [c.a]

       [d.a]

       [e.a]

<b>     want:</b>
       a = {   a.b  =  1   }
       b = {   "a"."b"  =  1   }
       c = {   a   .   b  =  1   }
       d = {   'a'   .   "b"  =  1   }
       e = {a.b=1}

<b>FAIL</b> <b>valid/inline-table/key-dotted-2</b>
<b> </b>    Could not find key "many.dots.here.dot.dot.dot.a.b.c" in encoder output

<b>     input sent to parser-cmd (PID 7674):</b>
       {
           "many": {
               "dots": {
                   "here": {
                       "dot": {
                           "dot": {
                               "dot": {
                                   "a": {
                                       "b": {
                                           "c": {"type": "integer", "value": "1"},
                                           "d": {"type": "integer", "value": "2"}
                                       }
                                   }
                               }
                           }
                       }
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 7674) (stdout):</b>
       [many.dots.here.dot.dot.dot.a.b]

<b>     want:</b>
       many.dots.here.dot.dot.dot = {a.b.c = 1, a.b.d = 2}

<b>FAIL</b> <b>valid/inline-table/key-dotted-3</b>
<b> </b>    Could not find key "tbl.a.b.c.d.e" in encoder output

<b>     input sent to parser-cmd (PID 7812):</b>
       {
           "tbl": {
               "a": {
                   "b": {
                       "c": {
                           "d": {
                               "e": {"type": "integer", "value": "1"}
                           }
                       }
                   }
               },
               "x": {
                   "a": {
                       "b": {
                           "c": {
                               "d": {
                                   "e": {"type": "integer", "value": "1"}
                               }
                           }
                       }
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 7812) (stdout):</b>
       [tbl.a.b.c.d]

       [tbl.x.a.b.c.d]

<b>     want:</b>
       [tbl]
       a.b.c = {d.e=1}

       [tbl.x]
       a.b.c = {d.e=1}

<b>FAIL</b> <b>valid/inline-table/key-dotted-4</b>
<b> </b>    Could not find key "arr.T.a.b" in encoder output

<b>     input sent to parser-cmd (PID 7847):</b>
       {
           "arr": [
               {
                   "T": {
                       "a": {
                           "b": {"type": "integer", "value": "1"}
                       }
                   },
                   "t": {
                       "a": {
                           "b": {"type": "integer", "value": "1"}
                       }
                   }
               },
               {
                   "T": {
                       "a": {
                           "b": {"type": "integer", "value": "2"}
                       }
                   },
                   "t": {
                       "a": {
                           "b": {"type": "integer", "value": "2"}
                       }
                   }
               }
           ]
       }

<b>     output from parser-cmd (PID 7847) (stdout):</b>
       [[arr]]

       [arr.T.a]

       [arr.t.a]

       [[arr]]

       [arr.T.a]

       [arr.t.a]

<b>     want:</b>
       [[arr]]
       t = {a.b=1}
       T = {a.b=1}

       [[arr]]
       t = {a.b=2}
       T = {a.b=2}

<b>FAIL</b> <b>valid/inline-table/key-dotted-5</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:156:35
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:153:38)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:156:35
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:153:38)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 7848):</b>
       {
           "arr-1": [{
               "a": {
                   "b": {"type": "integer", "value": "1"}
               }
           }],
           "arr-2": [
               {"type": "string", "value": "str"},
               {
                   "a": {
                       "b": {"type": "integer", "value": "1"}
                   }
               }
           ],
           "arr-3": [
               {
                   "a": {
                       "b": {"type": "integer", "value": "1"}
                   }
               },
               {
                   "a": {
                       "b": {"type": "integer", "value": "2"}
                   }
               }
           ],
           "arr-4": [
               {"type": "string", "value": "str"},
               {
                   "a": {
                       "b": {"type": "integer", "value": "1"}
                   }
               },
               {
                   "a": {
                       "b": {"type": "integer", "value": "2"}
                   }
               }
           ]
       }

<b>     output from parser-cmd (PID 7848) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:156:35
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:153:38)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:156:35
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:153:38)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/inline-table/key-dotted-6</b>
<b> </b>    Could not find key "top.dot.dot.dot.dot.dot" in encoder output

<b>     input sent to parser-cmd (PID 7849):</b>
       {
           "top": {
               "dot": {
                   "dot": [
                       {
                           "dot": {
                               "dot": {
                                   "dot": {"type": "integer", "value": "1"}
                               }
                           }
                       },
                       {
                           "dot": {
                               "dot": {
                                   "dot": {"type": "integer", "value": "2"}
                               }
                           }
                       }
                   ]
               }
           }
       }

<b>     output from parser-cmd (PID 7849) (stdout):</b>
       [top.dot]

       [[top.dot.dot]]

       [top.dot.dot.dot.dot]

       [[top.dot.dot]]

       [top.dot.dot.dot.dot]

<b>     want:</b>
       top.dot.dot = [
       	{dot.dot.dot = 1},
       	{dot.dot.dot = 2},
       ]

<b>FAIL</b> <b>valid/inline-table/key-dotted-7</b>
<b> </b>    Could not find key "arr.a.b.c.d" in encoder output

<b>     input sent to parser-cmd (PID 7850):</b>
       {
           "arr": [{
               "a": {"b": [{
                   "c": {
                       "d": {"type": "integer", "value": "1"}
                   }
               }]}
           }]
       }

<b>     output from parser-cmd (PID 7850) (stdout):</b>
       [[arr]]

       [arr.a]

       [[arr.a.b]]

       [arr.a.b.c]

<b>     want:</b>
       arr = [
       	{a.b = [{c.d = 1}]}
       ]

<b>FAIL</b> <b>valid/inline-table/multiline</b>
<b> </b>    Could not find key "tbl_multiline.a" in encoder output

<b>     input sent to parser-cmd (PID 7885):</b>
       {
           "tbl_multiline": {
               "a": {"type": "integer", "value": "1"},
               "b": {"type": "string", "value": "multiline\n"},
               "c": {"type": "string", "value": "and yet\nanother line"},
               "d": {"type": "integer", "value": "4"}
           }
       }

<b>     output from parser-cmd (PID 7885) (stdout):</b>
       [tbl_multiline]
       b = "multiline\n"
       c = "and yet\nanother line"

<b>     want:</b>
       tbl_multiline = { a = 1, b = """
       multiline
       """, c = """and yet
       another line""", d = 4 }

<b>FAIL</b> <b>valid/inline-table/nest</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:156:35
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:153:38)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 7901):</b>
       {
           "arr_arr_tbl_empty": [[{}]],
           "arr_arr_tbl_val":   [[{
               "one": {"type": "integer", "value": "1"}
           }]],
           "arr_arr_tbls":      [[
               {
                   "one": {"type": "integer", "value": "1"}
               },
               {
                   "two": {"type": "integer", "value": "2"}
               }
           ]],
           "arr_tbl_tbl":       [{
               "tbl": {
                   "one": {"type": "integer", "value": "1"}
               }
           }],
           "tbl_arr_tbl":       {"arr_tbl": [{
               "one": {"type": "integer", "value": "1"}
           }]},
           "tbl_tbl_empty": {
               "tbl_0": {}
           },
           "tbl_tbl_val": {
               "tbl_1": {
                   "one": {"type": "integer", "value": "1"}
               }
           }
       }

<b>     output from parser-cmd (PID 7901) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:156:35
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:153:38)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/integer/float64-max</b>
<b> </b>    Could not find key "max_int" in encoder output

<b>     input sent to parser-cmd (PID 7902):</b>
       {
           "max_int": {"type": "integer", "value": "9007199254740991"},
           "min_int": {"type": "integer", "value": "-9007199254740991"}
       }

<b>     output from parser-cmd (PID 7902) (stdout):</b>


<b>     want:</b>
       # Maximum and minimum safe float64 natural numbers. Mainly here for
       # -int-as-float.
       max_int =  9_007_199_254_740_991
       min_int = -9_007_199_254_740_991

<b>FAIL</b> <b>valid/integer/integer</b>
<b> </b>    Could not find key "answer" in encoder output

<b>     input sent to parser-cmd (PID 7903):</b>
       {
           "answer":    {"type": "integer", "value": "42"},
           "neganswer": {"type": "integer", "value": "-42"},
           "posanswer": {"type": "integer", "value": "42"},
           "zero":      {"type": "integer", "value": "0"}
       }

<b>     output from parser-cmd (PID 7903) (stdout):</b>


<b>     want:</b>
       answer = 42
       posanswer = +42
       neganswer = -42
       zero = 0

<b>FAIL</b> <b>valid/integer/literals</b>
<b> </b>    Could not find key "bin1" in encoder output

<b>     input sent to parser-cmd (PID 7904):</b>
       {
           "bin1": {"type": "integer", "value": "214"},
           "bin2": {"type": "integer", "value": "5"},
           "hex1": {"type": "integer", "value": "3735928559"},
           "hex2": {"type": "integer", "value": "3735928559"},
           "hex3": {"type": "integer", "value": "3735928559"},
           "hex4": {"type": "integer", "value": "2439"},
           "oct1": {"type": "integer", "value": "342391"},
           "oct2": {"type": "integer", "value": "493"},
           "oct3": {"type": "integer", "value": "501"}
       }

<b>     output from parser-cmd (PID 7904) (stdout):</b>


<b>     want:</b>
       bin1 = 0b11010110
       bin2 = 0b1_0_1

       oct1 = 0o01234567
       oct2 = 0o755
       oct3 = 0o7_6_5

       hex1 = 0xDEADBEEF
       hex2 = 0xdeadbeef
       hex3 = 0xdead_beef
       hex4 = 0x00987

<b>FAIL</b> <b>valid/integer/underscore</b>
<b> </b>    Could not find key "kilo" in encoder output

<b>     input sent to parser-cmd (PID 7931):</b>
       {
           "kilo": {"type": "integer", "value": "1000"},
           "x":    {"type": "integer", "value": "1111"}
       }

<b>     output from parser-cmd (PID 7931) (stdout):</b>


<b>     want:</b>
       kilo = 1_000
       x = 1_1_1_1

<b>FAIL</b> <b>valid/integer/zero</b>
<b> </b>    Could not find key "a2" in encoder output

<b>     input sent to parser-cmd (PID 7938):</b>
       {
           "a2": {"type": "integer", "value": "0"},
           "a3": {"type": "integer", "value": "0"},
           "b1": {"type": "integer", "value": "0"},
           "b2": {"type": "integer", "value": "0"},
           "b3": {"type": "integer", "value": "0"},
           "d1": {"type": "integer", "value": "0"},
           "d2": {"type": "integer", "value": "0"},
           "d3": {"type": "integer", "value": "0"},
           "h1": {"type": "integer", "value": "0"},
           "h2": {"type": "integer", "value": "0"},
           "h3": {"type": "integer", "value": "0"},
           "o1": {"type": "integer", "value": "0"}
       }

<b>     output from parser-cmd (PID 7938) (stdout):</b>


<b>     want:</b>
       d1 = 0
       d2 = +0
       d3 = -0

       h1 = 0x0
       h2 = 0x00
       h3 = 0x00000

       o1 = 0o0
       a2 = 0o00
       a3 = 0o00000

       b1 = 0b0
       b2 = 0b00
       b3 = 0b00000

<b>FAIL</b> <b>valid/key/alphanum</b>
<b> </b>    Could not find key "34-11" in encoder output

<b>     input sent to parser-cmd (PID 7987):</b>
       {
           "000111":      {"type": "string", "value": "leading"},
           "10e3":        {"type": "string", "value": "false float"},
           "123":         {"type": "string", "value": "num"},
           "34-11":       {"type": "integer", "value": "23"},
           "alpha":       {"type": "string", "value": "a"},
           "one1two2":    {"type": "string", "value": "mixed"},
           "under_score": {"type": "string", "value": "___"},
           "with-dash":   {"type": "string", "value": "dashed"},
           "2018_10": {
               "001": {"type": "integer", "value": "1"}
           },
           "a-a-a": {
               "_": {"type": "bool", "value": "false"}
           }
       }

<b>     output from parser-cmd (PID 7987) (stdout):</b>
       123 = "num"
       000111 = "leading"
       10e3 = "false float"
       alpha = "a"
       one1two2 = "mixed"
       under_score = "___"
       with-dash = "dashed"

       [2018_10]

       [a-a-a]
       _ = false

<b>     want:</b>
       alpha = "a"
       123 = "num"
       000111 = "leading"
       10e3 = "false float"
       one1two2 = "mixed"
       with-dash = "dashed"
       under_score = "___"
       34-11 = 23

       [2018_10]
       001 = 1

       [a-a-a]
       _ = false

<b>FAIL</b> <b>valid/key/dotted-1</b>
<b> </b>    Could not find key "many.dots.dot.dot.dot" in encoder output

<b>     input sent to parser-cmd (PID 8090):</b>
       {
           "many": {
               "dots": {
                   "dot": {
                       "dot": {
                           "dot": {"type": "integer", "value": "42"}
                       }
                   }
               }
           },
           "name": {
               "first": {"type": "string", "value": "Arthur"},
               "last":  {"type": "string", "value": "Dent"}
           }
       }

<b>     output from parser-cmd (PID 8090) (stdout):</b>
       [many.dots.dot.dot]

       [name]
       first = "Arthur"
       last = "Dent"

<b>     want:</b>
       name.first = "Arthur"
       "name".'last' = "Dent"

       many.dots.dot.dot.dot = 42

<b>FAIL</b> <b>valid/key/dotted-2</b>
<b> </b>    Could not find key "count.a" in encoder output

<b>     input sent to parser-cmd (PID 8144):</b>
       {
           "count": {
               "a": {"type": "integer", "value": "1"},
               "b": {"type": "integer", "value": "2"},
               "c": {"type": "integer", "value": "3"},
               "d": {"type": "integer", "value": "4"},
               "e": {"type": "integer", "value": "5"},
               "f": {"type": "integer", "value": "6"},
               "g": {"type": "integer", "value": "7"},
               "h": {"type": "integer", "value": "8"},
               "i": {"type": "integer", "value": "9"},
               "j": {"type": "integer", "value": "10"},
               "k": {"type": "integer", "value": "11"},
               "l": {"type": "integer", "value": "12"}
           }
       }

<b>     output from parser-cmd (PID 8144) (stdout):</b>
       [count]

<b>     want:</b>
       # Note: this file contains literal tab characters.

       # Space are ignored, and key parts can be quoted.
       count.a       = 1
       count . b     = 2
       "count"."c"   = 3
       "count" . "d" = 4
       'count'.'e'   = 5
       'count' . 'f' = 6
       "count".'g'   = 7
       "count" . 'h' = 8
       count.'i'     = 9
       count 	.	 'j'	   = 10
       "count".k     = 11
       "count" . l   = 12

<b>FAIL</b> <b>valid/key/dotted-3</b>
<b> </b>    Could not find key "top.key" in encoder output

<b>     input sent to parser-cmd (PID 8164):</b>
       {
           "a": {
               "few": {
                   "dots": {
                       "polka": {
                           "dance-with": {"type": "string", "value": "Dot"},
                           "dot":        {"type": "string", "value": "again?"}
                       }
                   }
               }
           },
           "tbl": {
               "a": {
                   "b": {
                       "c": {"type": "float", "value": "42.666"}
                   }
               }
           },
           "top": {
               "key": {"type": "integer", "value": "1"}
           }
       }

<b>     output from parser-cmd (PID 8164) (stdout):</b>
       [a.few.dots.polka]
       dance-with = "Dot"
       dot = "again?"

       [tbl.a.b]
       c = 42.666

       [top]

<b>     want:</b>
       top.key = 1

       [tbl]
       a.b.c = 42.666

       [a.few.dots]
       polka.dot = "again?"
       polka.dance-with = "Dot"

<b>FAIL</b> <b>valid/key/dotted-4</b>
<b> </b>    Could not find key "arr.a.b.c" in encoder output

<b>     input sent to parser-cmd (PID 8165):</b>
       {
           "arr": [
               {
                   "a": {
                       "b": {
                           "c": {"type": "integer", "value": "1"},
                           "d": {"type": "integer", "value": "2"}
                       }
                   }
               },
               {
                   "a": {
                       "b": {
                           "c": {"type": "integer", "value": "3"},
                           "d": {"type": "integer", "value": "4"}
                       }
                   }
               }
           ],
           "top": {
               "key": {"type": "integer", "value": "1"}
           }
       }

<b>     output from parser-cmd (PID 8165) (stdout):</b>
       [[arr]]

       [arr.a.b]

       [[arr]]

       [arr.a.b]

       [top]

<b>     want:</b>
       top.key = 1

       [[arr]]
       a.b.c=1
       a.b.d=2

       [[arr]]
       a.b.c=3
       a.b.d=4

<b>FAIL</b> <b>valid/key/empty-3</b>
<b> </b>    Could not find key "" in encoder output

<b>     input sent to parser-cmd (PID 8192):</b>
       {
           "": {"type": "integer", "value": "0"}
       }

<b>     output from parser-cmd (PID 8192) (stdout):</b>


<b>     want:</b>
       ''=0

<b>FAIL</b> <b>valid/key/equals-nospace</b>
<b> </b>    Could not find key "answer" in encoder output

<b>     input sent to parser-cmd (PID 8237):</b>
       {
           "answer": {"type": "integer", "value": "42"}
       }

<b>     output from parser-cmd (PID 8237) (stdout):</b>


<b>     want:</b>
       answer=42

<b>FAIL</b> <b>valid/key/like-date</b>
<b> </b>    Could not find key "15:16:17" in encoder output

<b>     input sent to parser-cmd (PID 8255):</b>
       {
           "15:16:17":                  {"type": "integer", "value": "6"},
           "2001-02-03":                {"type": "integer", "value": "1"},
           "2001-02-04":                {"type": "integer", "value": "2"},
           "2001-02-05":                {"type": "integer", "value": "3"},
           "2001-02-06T15:16:17+01:00": {"type": "integer", "value": "4"},
           "2001-02-07T15:16:17":       {"type": "integer", "value": "5"},
           "2002-01-04":                [{
               "k": {"type": "integer", "value": "12"}
           }],
           "2001-02-11": {
               "a": {
                   "2001-02-12": {"type": "integer", "value": "9"}
               }
           },
           "2002-01-02": {
               "k": {"type": "integer", "value": "10"},
               "2024-01-03": {
                   "k": {"type": "integer", "value": "11"}
               }
           },
           "a": {
               "2001-02-08": {"type": "integer", "value": "7"},
               "2001-02-09": {
                   "2001-02-10": {"type": "integer", "value": "8"}
               }
           }
       }

<b>     output from parser-cmd (PID 8255) (stdout):</b>
       [[2002-01-04]]

       [2001-02-11.a]

       [2002-01-02.2024-01-03]

       [a.2001-02-09]

<b>     want:</b>
       # '-' is a valid character in keys: make a key that looks like a date.
       2001-02-03   = 1
       "2001-02-04" = 2
       '2001-02-05' = 3

       # Also include datetime and time for good measure; these need to be quoted as
       # ':' isn't a valid bare key.
       "2001-02-06T15:16:17+01:00" = 4
       "2001-02-07T15:16:17"       = 5
       "15:16:17"                  = 6

       # Dotted keys
       a.2001-02-08 = 7
       a.2001-02-09.2001-02-10 = 8
       2001-02-11.a.2001-02-12 = 9

       # Table names
       [2002-01-02]
       k = 10

       [2002-01-02.2024-01-03]
       k = 11

       [[2002-01-04]]
       k = 12

<b>FAIL</b> <b>valid/key/quoted-dots</b>
<b> </b>    Could not find key "plain" in encoder output

<b>     input sent to parser-cmd (PID 8512):</b>
       {
           "plain":    {"type": "integer", "value": "1"},
           "with.dot": {"type": "integer", "value": "2"},
           "plain_table": {
               "plain":    {"type": "integer", "value": "3"},
               "with.dot": {"type": "integer", "value": "4"}
           },
           "table": {
               "withdot": {
                   "escaped.dot":   {"type": "integer", "value": "7"},
                   "key.with.dots": {"type": "integer", "value": "6"},
                   "plain":         {"type": "integer", "value": "5"}
               }
           }
       }

<b>     output from parser-cmd (PID 8512) (stdout):</b>
       [plain_table]

       [table.withdot]

<b>     want:</b>
       plain = 1
       "with.dot" = 2

       [plain_table]
       plain = 3
       "with.dot" = 4

       [table.withdot]
       plain = 5
       "key.with.dots" = 6
       "escaped\u002edot" = 7

<b>FAIL</b> <b>valid/key/quoted-unicode</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 2: TOML files cannot contain control characters: '0x7f'

<b>     input sent to parser-cmd (PID 8513):</b>
       {
           "\u0000":               {"type": "string", "value": "null"},
           "\b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø": {"type": "string", "value": "escaped key"},
           "\\u0000":              {"type": "string", "value": "different key"},
           "l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":      {"type": "string", "value": "literal key"},
           "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":        {"type": "string", "value": "basic key"}
       }

<b>     output from parser-cmd (PID 8513) (stdout):</b>
       "\u0000" = "null"
       "\b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø" = "escaped key"
       "\\u0000" = "different key"
       "l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø" = "literal key"
       "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø" = "basic key"

<b>     want:</b>

       "\u0000" = "null"
       '\u0000' = "different key"
       "\u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff" = "escaped key"

       "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø" = "basic key"
       'l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø' = "literal key"

<b>FAIL</b> <b>valid/key/space</b>
<b> </b>    Could not find key "  much \t\t  whitespace  \t\n  \r\n  " in encoder output

<b>     input sent to parser-cmd (PID 8514):</b>
       {
           "  much \t\t  whitespace  \t\n  \r\n  ": {"type": "integer", "value": "3"},
           " c d ":                             {"type": "integer", "value": "2"},
           "a b":                               {"type": "integer", "value": "1"},
           " tbl ": {
               "\ttab\ttab\t": {"type": "string", "value": "tab"}
           }
       }

<b>     output from parser-cmd (PID 8514) (stdout):</b>
       [" tbl "]
       "\ttab\ttab\t" = "tab"

<b>     want:</b>
       # Keep whitespace inside quotes keys at all positions.
       "a b"   = 1
       " c d " = 2
       "  much 		  whitespace  	\n  \r\n  " = 3

       [ " tbl " ]
       "\ttab\ttab\t" = "tab"

<b>FAIL</b> <b>valid/key/special-chars</b>
<b> </b>    Could not find key "=~!@$^&*()_+-`1234567890[]|/?><.,;:'=" in encoder output

<b>     input sent to parser-cmd (PID 8515):</b>
       {
           "=~!@$^\u0026*()_+-`1234567890[]|/?\u003e\u003c.,;:'=": {"type": "integer", "value": "1"}
       }

<b>     output from parser-cmd (PID 8515) (stdout):</b>


<b>     want:</b>
       "=~!@$^&*()_+-`1234567890[]|/?><.,;:'=" = 1

<b>FAIL</b> <b>valid/key/special-word</b>
<b> </b>    Could not find key "inf" in encoder output

<b>     input sent to parser-cmd (PID 8568):</b>
       {
           "false": {"type": "bool", "value": "false"},
           "inf":   {"type": "integer", "value": "100000000"},
           "nan":   {"type": "string", "value": "ceci n'est pas un nombre"},
           "true":  {"type": "integer", "value": "1"}
       }

<b>     output from parser-cmd (PID 8568) (stdout):</b>
       false = false
       nan = "ceci n'est pas un nombre"

<b>     want:</b>
       false = false
       true = 1
       inf = 100000000
       nan = "ceci n'est pas un nombre"

<b>FAIL</b> <b>valid/key/start</b>
<b> </b>    Could not find key "-.-" in encoder output

<b>     input sent to parser-cmd (PID 8569):</b>
       {
           "-": {
               "-": {"type": "integer", "value": "4"}
           },
           "---": {
               "---": {"type": "integer", "value": "7"}
           },
           "-key": {
               "-key": {"type": "integer", "value": "1"}
           },
           "1": {
               "1": {"type": "integer", "value": "6"}
           },
           "111": {
               "111": {"type": "integer", "value": "9"}
           },
           "1key": {
               "1key": {"type": "integer", "value": "3"}
           },
           "_": {
               "_": {"type": "integer", "value": "5"}
           },
           "___": {
               "___": {"type": "integer", "value": "8"}
           },
           "_key": {
               "_key": {"type": "integer", "value": "2"}
           },
           "inline": {
               "---": {
                   "---": {"type": "integer", "value": "10"},
                   "111": {"type": "integer", "value": "12"},
                   "___": {"type": "integer", "value": "11"}
               }
           }
       }

<b>     output from parser-cmd (PID 8569) (stdout):</b>
       [1]

       [111]

       [-]

       [---]

       [-key]

       [1key]

       [_]

       [___]

       [_key]

       [inline.---]

<b>     want:</b>
       # Table and keys can start with any character; there is no requirement for it to
       # start with a letter.

       [-key]
       -key = 1

       [_key]
       _key = 2

       [1key]
       1key = 3

       [-]
       - = 4

       [_]
       _ = 5

       [1]
       1 = 6

       [---]
       --- = 7

       [___]
       ___ = 8

       [111]
       111 = 9

       [inline]
       --- = {--- = 10, ___ = 11, 111 = 12}

<b>FAIL</b> <b>valid/key/zero</b>
<b> </b>    Could not find key "0" in encoder output

<b>     input sent to parser-cmd (PID 8570):</b>
       {
           "0": {"type": "integer", "value": "0"}
       }

<b>     output from parser-cmd (PID 8570) (stdout):</b>


<b>     want:</b>
       0=0

<b>FAIL</b> <b>valid/spec-1.0.0/array-0</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 8618):</b>
       {
           "colors": [
               {"type": "string", "value": "red"},
               {"type": "string", "value": "yellow"},
               {"type": "string", "value": "green"}
           ],
           "contributors": [
               {"type": "string", "value": "Foo Bar \u003cfoo@example.com\u003e"},
               {
                   "email": {"type": "string", "value": "bazqux@example.com"},
                   "name":  {"type": "string", "value": "Baz Qux"},
                   "url":   {"type": "string", "value": "https://example.com/bazqux"}
               }
           ],
           "integers": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "3"}
           ],
           "nested_arrays_of_ints": [
               [
                   {"type": "integer", "value": "1"},
                   {"type": "integer", "value": "2"}
               ],
               [
                   {"type": "integer", "value": "3"},
                   {"type": "integer", "value": "4"},
                   {"type": "integer", "value": "5"}
               ]
           ],
           "nested_mixed_array": [
               [
                   {"type": "integer", "value": "1"},
                   {"type": "integer", "value": "2"}
               ],
               [
                   {"type": "string", "value": "a"},
                   {"type": "string", "value": "b"},
                   {"type": "string", "value": "c"}
               ]
           ],
           "numbers": [
               {"type": "float", "value": "0.1"},
               {"type": "float", "value": "0.2"},
               {"type": "float", "value": "0.5"},
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "5"}
           ],
           "string_array": [
               {"type": "string", "value": "all"},
               {"type": "string", "value": "strings"},
               {"type": "string", "value": "are the same"},
               {"type": "string", "value": "type"}
           ]
       }

<b>     output from parser-cmd (PID 8618) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/js-deno-toml-encoder.ts:39:22

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/spec-1.0.0/array-1</b>
<b> </b>    Type for key "integers2" differs:
<b> </b>      Expected:     1 (int64)
<b> </b>      Your encoder: map[] (map[string]any)

<b>     input sent to parser-cmd (PID 8626):</b>
       {
           "integers2": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"},
               {"type": "integer", "value": "3"}
           ],
           "integers3": [
               {"type": "integer", "value": "1"},
               {"type": "integer", "value": "2"}
           ]
       }

<b>     output from parser-cmd (PID 8626) (stdout):</b>
       [[integers2]]

       [[integers2]]

       [[integers2]]

       [[integers3]]

       [[integers3]]

<b>     want:</b>
       integers2 = [
         1, 2, 3
       ]

       integers3 = [
         1,
         2, # this is ok
       ]

<b>FAIL</b> <b>valid/spec-1.0.0/array-of-tables-0</b>
<b> </b>    Could not find key "products.sku" in encoder output

<b>     input sent to parser-cmd (PID 8677):</b>
       {
           "products": [
               {
                   "name": {"type": "string", "value": "Hammer"},
                   "sku":  {"type": "integer", "value": "738594937"}
               },
               {},
               {
                   "color": {"type": "string", "value": "gray"},
                   "name":  {"type": "string", "value": "Nail"},
                   "sku":   {"type": "integer", "value": "284758393"}
               }
           ]
       }

<b>     output from parser-cmd (PID 8677) (stdout):</b>
       [[products]]
       name = "Hammer"

       [[products]]

       [[products]]
       color = "gray"
       name = "Nail"

<b>     want:</b>
       [[products]]
       name = "Hammer"
       sku = 738594937

       [[products]]  # empty table within the array

       [[products]]
       name = "Nail"
       sku = 284758393

       color = "gray"

<b>FAIL</b> <b>valid/spec-1.0.0/array-of-tables-2</b>
<b> </b>    Could not find key "points.x" in encoder output

<b>     input sent to parser-cmd (PID 8817):</b>
       {
           "points": [
               {
                   "x": {"type": "integer", "value": "1"},
                   "y": {"type": "integer", "value": "2"},
                   "z": {"type": "integer", "value": "3"}
               },
               {
                   "x": {"type": "integer", "value": "7"},
                   "y": {"type": "integer", "value": "8"},
                   "z": {"type": "integer", "value": "9"}
               },
               {
                   "x": {"type": "integer", "value": "2"},
                   "y": {"type": "integer", "value": "4"},
                   "z": {"type": "integer", "value": "8"}
               }
           ]
       }

<b>     output from parser-cmd (PID 8817) (stdout):</b>
       [[points]]

       [[points]]

       [[points]]

<b>     want:</b>
       points = [ { x = 1, y = 2, z = 3 },
                  { x = 7, y = 8, z = 9 },
                  { x = 2, y = 4, z = 8 } ]

<b>FAIL</b> <b>valid/spec-1.0.0/float-2</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 4 (last key "sf4"): expected value but found "NaN" instead

<b>     input sent to parser-cmd (PID 8874):</b>
       {
           "sf1": {"type": "float", "value": "inf"},
           "sf2": {"type": "float", "value": "inf"},
           "sf3": {"type": "float", "value": "-inf"},
           "sf4": {"type": "float", "value": "nan"},
           "sf5": {"type": "float", "value": "nan"},
           "sf6": {"type": "float", "value": "nan"}
       }

<b>     output from parser-cmd (PID 8874) (stdout):</b>
       sf1 = inf
       sf2 = inf
       sf3 = -inf
       sf4 = NaN
       sf5 = NaN
       sf6 = NaN

<b>     want:</b>
       # infinity
       sf1 = inf  # positive infinity
       sf2 = +inf # positive infinity
       sf3 = -inf # negative infinity

       # not a number
       sf4 = nan  # actual sNaN/qNaN encoding is implementation-specific
       sf5 = +nan # same as `nan`
       sf6 = -nan # valid, actual encoding is implementation-specific

<b>FAIL</b> <b>valid/spec-1.0.0/inline-table-0</b>
<b> </b>    Could not find key "point.x" in encoder output

<b>     input sent to parser-cmd (PID 8873):</b>
       {
           "animal": {
               "type": {
                   "name": {"type": "string", "value": "pug"}
               }
           },
           "name": {
               "first": {"type": "string", "value": "Tom"},
               "last":  {"type": "string", "value": "Preston-Werner"}
           },
           "point": {
               "x": {"type": "integer", "value": "1"},
               "y": {"type": "integer", "value": "2"}
           }
       }

<b>     output from parser-cmd (PID 8873) (stdout):</b>
       [animal.type]
       name = "pug"

       [name]
       first = "Tom"
       last = "Preston-Werner"

       [point]

<b>     want:</b>
       name = { first = "Tom", last = "Preston-Werner" }
       point = { x = 1, y = 2 }
       animal = { type.name = "pug" }

<b>FAIL</b> <b>valid/spec-1.0.0/inline-table-1</b>
<b> </b>    Could not find key "point.x" in encoder output

<b>     input sent to parser-cmd (PID 8906):</b>
       {
           "animal": {
               "type": {
                   "name": {"type": "string", "value": "pug"}
               }
           },
           "name": {
               "first": {"type": "string", "value": "Tom"},
               "last":  {"type": "string", "value": "Preston-Werner"}
           },
           "point": {
               "x": {"type": "integer", "value": "1"},
               "y": {"type": "integer", "value": "2"}
           }
       }

<b>     output from parser-cmd (PID 8906) (stdout):</b>
       [animal.type]
       name = "pug"

       [name]
       first = "Tom"
       last = "Preston-Werner"

       [point]

<b>     want:</b>
       [name]
       first = "Tom"
       last = "Preston-Werner"

       [point]
       x = 1
       y = 2

       [animal]
       type.name = "pug"

<b>FAIL</b> <b>valid/spec-1.0.0/integer-0</b>
<b> </b>    Could not find key "int1" in encoder output

<b>     input sent to parser-cmd (PID 8913):</b>
       {
           "int1": {"type": "integer", "value": "99"},
           "int2": {"type": "integer", "value": "42"},
           "int3": {"type": "integer", "value": "0"},
           "int4": {"type": "integer", "value": "-17"}
       }

<b>     output from parser-cmd (PID 8913) (stdout):</b>


<b>     want:</b>
       int1 = +99
       int2 = 42
       int3 = 0
       int4 = -17

<b>FAIL</b> <b>valid/spec-1.0.0/integer-1</b>
<b> </b>    Could not find key "int5" in encoder output

<b>     input sent to parser-cmd (PID 8916):</b>
       {
           "int5": {"type": "integer", "value": "1000"},
           "int6": {"type": "integer", "value": "5349221"},
           "int7": {"type": "integer", "value": "5349221"},
           "int8": {"type": "integer", "value": "12345"}
       }

<b>     output from parser-cmd (PID 8916) (stdout):</b>


<b>     want:</b>
       int5 = 1_000
       int6 = 5_349_221
       int7 = 53_49_221  # Indian number system grouping
       int8 = 1_2_3_4_5  # VALID but discouraged

<b>FAIL</b> <b>valid/spec-1.0.0/integer-2</b>
<b> </b>    Could not find key "bin1" in encoder output

<b>     input sent to parser-cmd (PID 8943):</b>
       {
           "bin1": {"type": "integer", "value": "214"},
           "hex1": {"type": "integer", "value": "3735928559"},
           "hex2": {"type": "integer", "value": "3735928559"},
           "hex3": {"type": "integer", "value": "3735928559"},
           "oct1": {"type": "integer", "value": "342391"},
           "oct2": {"type": "integer", "value": "493"}
       }

<b>     output from parser-cmd (PID 8943) (stdout):</b>


<b>     want:</b>
       # hexadecimal with prefix `0x`
       hex1 = 0xDEADBEEF
       hex2 = 0xdeadbeef
       hex3 = 0xdead_beef

       # octal with prefix `0o`
       oct1 = 0o01234567
       oct2 = 0o755 # useful for Unix file permissions

       # binary with prefix `0b`
       bin1 = 0b11010110

<b>FAIL</b> <b>valid/spec-1.0.0/local-date-time-0</b>
<b> </b>    Values for key "ldt1" differ:
<b> </b>      Expected:     1979-05-27 07:32:00 +0100 datetime-local (time.Time)
<b> </b>      Your encoder: 1979-05-27 06:32:00 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 9175):</b>
       {
           "ldt1": {"type": "datetime-local", "value": "1979-05-27T07:32:00"},
           "ldt2": {"type": "datetime-local", "value": "1979-05-27T00:32:00.999"}
       }

<b>     output from parser-cmd (PID 9175) (stdout):</b>
       ldt1 = 1979-05-27T06:32:00.000
       ldt2 = 1979-05-26T23:32:00.999

<b>     want:</b>
       ldt1 = 1979-05-27T07:32:00
       ldt2 = 1979-05-27T00:32:00.999

<b>FAIL</b> <b>valid/spec-1.0.0/local-time-0</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 1 (last key "lt1"): expected value but found "NaN" instead

<b>     input sent to parser-cmd (PID 9193):</b>
       {
           "lt1": {"type": "time-local", "value": "07:32:00"},
           "lt2": {"type": "time-local", "value": "00:32:00.999"}
       }

<b>     output from parser-cmd (PID 9193) (stdout):</b>
       lt1 = NaN-NaN-NaNTNaN:NaN:NaN.NaN
       lt2 = NaN-NaN-NaNTNaN:NaN:NaN.NaN

<b>     want:</b>
       lt1 = 07:32:00
       lt2 = 00:32:00.999

<b>FAIL</b> <b>valid/spec-1.0.0/offset-date-time-0</b>
<b> </b>    Values for key "odt1" differ:
<b> </b>      Expected:     1979-05-27 07:32:00 +0000 UTC (time.Time)
<b> </b>      Your encoder: 1979-05-27 07:32:00 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 9225):</b>
       {
           "odt1": {"type": "datetime", "value": "1979-05-27T07:32:00Z"},
           "odt2": {"type": "datetime", "value": "1979-05-27T00:32:00-07:00"},
           "odt3": {"type": "datetime", "value": "1979-05-27T00:32:00.999-07:00"}
       }

<b>     output from parser-cmd (PID 9225) (stdout):</b>
       odt1 = 1979-05-27T07:32:00.000
       odt2 = 1979-05-27T07:32:00.000
       odt3 = 1979-05-27T07:32:00.999

<b>     want:</b>
       odt1 = 1979-05-27T07:32:00Z
       odt2 = 1979-05-27T00:32:00-07:00
       odt3 = 1979-05-27T00:32:00.999-07:00

<b>FAIL</b> <b>valid/spec-1.0.0/offset-date-time-1</b>
<b> </b>    Values for key "odt4" differ:
<b> </b>      Expected:     1979-05-27 07:32:00 +0000 UTC (time.Time)
<b> </b>      Your encoder: 1979-05-27 07:32:00 +0100 datetime-local (time.Time)

<b>     input sent to parser-cmd (PID 9226):</b>
       {
           "odt4": {"type": "datetime", "value": "1979-05-27T07:32:00Z"}
       }

<b>     output from parser-cmd (PID 9226) (stdout):</b>
       odt4 = 1979-05-27T07:32:00.000

<b>     want:</b>
       odt4 = 1979-05-27 07:32:00Z

<b>FAIL</b> <b>valid/spec-1.0.0/table-1</b>
<b> </b>    Could not find key "table-1.key2" in encoder output

<b>     input sent to parser-cmd (PID 9476):</b>
       {
           "table-1": {
               "key1": {"type": "string", "value": "some string"},
               "key2": {"type": "integer", "value": "123"}
           },
           "table-2": {
               "key1": {"type": "string", "value": "another string"},
               "key2": {"type": "integer", "value": "456"}
           }
       }

<b>     output from parser-cmd (PID 9476) (stdout):</b>
       [table-1]
       key1 = "some string"

       [table-2]
       key1 = "another string"

<b>     want:</b>
       [table-1]
       key1 = "some string"
       key2 = 123

       [table-2]
       key1 = "another string"
       key2 = 456

<b>FAIL</b> <b>valid/spec-example-1</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:95:40)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 9655):</b>
       {
           "title": {"type": "string", "value": "TOML Example"},
           "clients": {
               "data": [
                   [
                       {"type": "string", "value": "gamma"},
                       {"type": "string", "value": "delta"}
                   ],
                   [
                       {"type": "integer", "value": "1"},
                       {"type": "integer", "value": "2"}
                   ]
               ],
               "hosts": [
                   {"type": "string", "value": "alpha"},
                   {"type": "string", "value": "omega"}
               ]
           },
           "database": {
               "connection_max": {"type": "integer", "value": "5000"},
               "enabled":        {"type": "bool", "value": "true"},
               "server":         {"type": "string", "value": "192.168.1.1"},
               "ports": [
                   {"type": "integer", "value": "8001"},
                   {"type": "integer", "value": "8001"},
                   {"type": "integer", "value": "8002"}
               ]
           },
           "owner": {
               "dob":  {"type": "datetime", "value": "1979-05-27T07:32:00-08:00"},
               "name": {"type": "string", "value": "Lance Uppercut"}
           },
           "servers": {
               "alpha": {
                   "dc": {"type": "string", "value": "eqdc10"},
                   "ip": {"type": "string", "value": "10.0.0.1"}
               },
               "beta": {
                   "dc": {"type": "string", "value": "eqdc10"},
                   "ip": {"type": "string", "value": "10.0.0.2"}
               }
           }
       }

<b>     output from parser-cmd (PID 9655) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:95:40)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/spec-example-1-compact</b>
<b> </b>    error: Uncaught (in promise) Error: Should never reach
<b> </b>        throw new Error("Should never reach");
<b> </b>              ^
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
<b> </b>        at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
<b> </b>        at Array.map (<anonymous>)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
<b> </b>        at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:95:40)
<b> </b>        at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
<b> </b>        at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)
<b> </b>
<b> </b>    Exit 1

<b>     input sent to parser-cmd (PID 9632):</b>
       {
           "title": {"type": "string", "value": "TOML Example"},
           "clients": {
               "data": [
                   [
                       {"type": "string", "value": "gamma"},
                       {"type": "string", "value": "delta"}
                   ],
                   [
                       {"type": "integer", "value": "1"},
                       {"type": "integer", "value": "2"}
                   ]
               ],
               "hosts": [
                   {"type": "string", "value": "alpha"},
                   {"type": "string", "value": "omega"}
               ]
           },
           "database": {
               "connection_max": {"type": "integer", "value": "5000"},
               "enabled":        {"type": "bool", "value": "true"},
               "server":         {"type": "string", "value": "192.168.1.1"},
               "ports": [
                   {"type": "integer", "value": "8001"},
                   {"type": "integer", "value": "8001"},
                   {"type": "integer", "value": "8002"}
               ]
           },
           "owner": {
               "dob":  {"type": "datetime", "value": "1979-05-27T07:32:00-08:00"},
               "name": {"type": "string", "value": "Lance Uppercut"}
           },
           "servers": {
               "alpha": {
                   "dc": {"type": "string", "value": "eqdc10"},
                   "ip": {"type": "string", "value": "10.0.0.1"}
               },
               "beta": {
                   "dc": {"type": "string", "value": "eqdc10"},
                   "ip": {"type": "string", "value": "10.0.0.2"}
               }
           }
       }

<b>     output from parser-cmd (PID 9632) (stderr):</b>
       error: Uncaught (in promise) Error: Should never reach
           throw new Error("Should never reach");
                 ^
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:161:11)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:60
           at Array.map (<anonymous>)
           at Dumper.#printAsInlineValue (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:147:25)
           at file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:64
           at Array.map (<anonymous>)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:87:29)
           at Dumper.#printObject (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:95:40)
           at Dumper.dump (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:45:36)
           at stringify (file:///home/martin/code/Toml/toml-test-matrix/src/js-deno-toml/toml/stringify.ts:291:26)

       Exit 1

<b>     want:</b>
          <empty>

<b>FAIL</b> <b>valid/string/escapes</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 4 (last key "delete"): TOML files cannot contain control characters: '0x7f'

<b>     input sent to parser-cmd (PID 9822):</b>
       {
           "backslash":     {"type": "string", "value": "|\\."},
           "backspace":     {"type": "string", "value": "|\b."},
           "carriage":      {"type": "string", "value": "|\r."},
           "delete":        {"type": "string", "value": "|."},
           "formfeed":      {"type": "string", "value": "|\f."},
           "newline":       {"type": "string", "value": "|\n."},
           "notunicode1":   {"type": "string", "value": "|\\u."},
           "notunicode2":   {"type": "string", "value": "|\\u."},
           "notunicode3":   {"type": "string", "value": "|\\u0075."},
           "notunicode4":   {"type": "string", "value": "|\\u."},
           "quote":         {"type": "string", "value": "|\"."},
           "tab":           {"type": "string", "value": "|\t."},
           "unitseparator": {"type": "string", "value": "|\u001f."}
       }

<b>     output from parser-cmd (PID 9822) (stdout):</b>
       backslash = "|\\."
       backspace = "|\b."
       carriage = "|\r."
       delete = "|."
       formfeed = "|\f."
       newline = "|\n."
       notunicode1 = "|\\u."
       notunicode2 = "|\\u."
       notunicode3 = "|\\u0075."
       notunicode4 = "|\\u."
       quote = "|\"."
       tab = "|\t."
       unitseparator = "|\u001f."

<b>     want:</b>
       backspace     = "|\b."
       tab           = "|\t."
       newline       = "|\n."
       formfeed      = "|\f."
       carriage      = "|\r."
       quote         = "|\"."
       backslash     = "|\\."
       delete        = "|\u007F."
       unitseparator = "|\u001F."

       # \u is escaped, so should NOT be interperted as a \u escape.
       notunicode1   = "|\\u."
       notunicode2   = "|\u005Cu."
       notunicode3   = "|\\u0075."
       notunicode4   = "|\\\u0075."

<b>FAIL</b> <b>valid/string/quoted-unicode</b>
<b> </b>    decode TOML from encoder:
<b> </b>      toml: line 2 (last key "escaped_string"): TOML files cannot contain control characters: '0x7f'

<b>     input sent to parser-cmd (PID 9970):</b>
       {
           "basic_string":   {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "escaped_string": {"type": "string", "value": "\u0000 \b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "literal_string": {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "not_escaped_string": {
               "type":  "string",
               "value": "\\u0000 \\u0008 \\u000c \\U00000041 \\u007f \\u0080 \\u00ff \\ud7ff \\ue000 \\uffff \\U00010000 \\U0010ffff"
           }
       }

<b>     output from parser-cmd (PID 9970) (stdout):</b>
       basic_string = "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"
       escaped_string = "\u0000 \b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"
       literal_string = "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"
       not_escaped_string = "\\u0000 \\u0008 \\u000c \\U00000041 \\u007f \\u0080 \\u00ff \\ud7ff \\ue000 \\uffff \\U00010000 \\U0010ffff"

<b>     want:</b>

       escaped_string = "\u0000 \u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff"
       not_escaped_string = '\u0000 \u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff'

       basic_string = "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"
       literal_string = '~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø'

<b>FAIL</b> <b>valid/table/array-empty-name</b>
<b> </b>    Could not find key "a" in encoder output

<b>     input sent to parser-cmd (PID 10139):</b>
       {
           "": [
               {"a": {"type": "integer", "value": "1"}},
               {"a": {"type": "integer", "value": "2"}}
           ]
       }

<b>     output from parser-cmd (PID 10139) (stdout):</b>
       [[""]]

       [[""]]

<b>     want:</b>
       # Silly thing to do, but valid.

       [['']]
       a = 1
       [['']]
       a = 2

<b>FAIL</b> <b>valid/table/array-implicit-and-explicit-after</b>
<b> </b>    Could not find key "a.y" in encoder output

<b>     input sent to parser-cmd (PID 10208):</b>
       {
           "a": {
               "b": [{
                   "x": {"type": "integer", "value": "1"}
               }],
               "y": {"type": "integer", "value": "2"}
           }
       }

<b>     output from parser-cmd (PID 10208) (stdout):</b>
       [a]

       [[a.b]]

<b>     want:</b>
       [[a.b]]
       x = 1

       [a]
       y = 2

<b>FAIL</b> <b>valid/table/array-within-dotted</b>
<b> </b>    Could not find key "fruit.apple.seeds.size" in encoder output

<b>     input sent to parser-cmd (PID 10280):</b>
       {
           "fruit": {
               "apple": {
                   "color": {"type": "string", "value": "red"},
                   "seeds": [{
                       "size": {"type": "integer", "value": "2"}
                   }]
               }
           }
       }

<b>     output from parser-cmd (PID 10280) (stdout):</b>
       [fruit.apple]
       color = "red"

       [[fruit.apple.seeds]]

<b>     want:</b>
       [fruit]
       apple.color = "red"

       [[fruit.apple.seeds]]
       size = 2

<b>FAIL</b> <b>valid/table/empty-name</b>
<b> </b>    Could not find key "x" in encoder output

<b>     input sent to parser-cmd (PID 10351):</b>
       {
           "": {
               "x": {"type": "integer", "value": "1"},
               "a": {
                   "x": {"type": "integer", "value": "2"}
               }
           },
           "a": {
               "": {
                   "x": {"type": "integer", "value": "3"}
               }
           }
       }

<b>     output from parser-cmd (PID 10351) (stdout):</b>
       ["".a]

       [a.""]

<b>     want:</b>
       ['']
       x = 1

       ["".a]
       x = 2

       [a.'']
       x = 3

<b>FAIL</b> <b>valid/table/keyword-with-values</b>
<b> </b>    Could not find key "false.k" in encoder output

<b>     input sent to parser-cmd (PID 10403):</b>
       {
           "false": {
               "k": {"type": "integer", "value": "2"}
           },
           "inf": {
               "k": {"type": "integer", "value": "3"}
           },
           "nan": {
               "k": {"type": "integer", "value": "4"}
           },
           "true": {
               "k": {"type": "integer", "value": "1"}
           }
       }

<b>     output from parser-cmd (PID 10403) (stdout):</b>
       [false]

       [inf]

       [nan]

       [true]

<b>     want:</b>
       [true]
       k = 1

       [false]
       k = 2

       [inf]
       k = 3

       [nan]
       k = 4

<b>FAIL</b> <b>valid/table/names-with-values</b>
<b> </b>    Could not find key "a. x .key" in encoder output

<b>     input sent to parser-cmd (PID 10424):</b>
       {
           "a": {
               " x ": {
                   "key": {"type": "integer", "value": "4"}
               },
               "b": {
                   "c": {
                       "key": {"type": "integer", "value": "1"}
                   }
               },
               "b.c": {
                   "key": {"type": "integer", "value": "2"}
               },
               "d.e": {
                   "key": {"type": "integer", "value": "3"}
               }
           },
           "d": {
               "e": {
                   "f": {
                       "key": {"type": "integer", "value": "5"}
                   }
               }
           },
           "g": {
               "h": {
                   "i": {
                       "key": {"type": "integer", "value": "6"}
                   }
               }
           },
           "j": {
               " û": {
                   "l": {
                       "key": {"type": "integer", "value": "7"}
                   }
               }
           },
           "x": {
               "1": {
                   "2": {
                       "key": {"type": "integer", "value": "8"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 10424) (stdout):</b>
       [a." x "]

       [a.b.c]

       [a."b.c"]

       [a."d.e"]

       [d.e.f]

       [g.h.i]

       [j." û".l]

       [x.1.2]

<b>     want:</b>
       [a.b.c]
       key = 1

       [a."b.c"]
       key = 2

       [a.'d.e']
       key = 3

       [a.' x ']
       key = 4

       [ d.e.f ]
       key = 5

       [ g . h . i ]
       key = 6

       [ j . " û" . 'l' ]
       key = 7

       [x.1.2]
       key = 8

<b>FAIL</b> <b>valid/table/sub</b>
<b> </b>    Could not find key "a.key" in encoder output

<b>     input sent to parser-cmd (PID 10479):</b>
       {
           "a": {
               "key": {"type": "integer", "value": "1"},
               "extend": {
                   "key": {"type": "integer", "value": "2"},
                   "more": {
                       "key": {"type": "integer", "value": "3"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 10479) (stdout):</b>
       [a.extend.more]

<b>     want:</b>
       [a]
       key = 1

       # a.extend is a key inside the "a" table.
       [a.extend]
       key = 2

       [a.extend.more]
       key = 3

<b>FAIL</b> <b>valid/table/with-literal-string</b>
<b> </b>    Could not find key "a.\"b\".c.answer" in encoder output

<b>     input sent to parser-cmd (PID 10570):</b>
       {
           "a": {
               "\"b\"": {
                   "c": {
                       "answer": {"type": "integer", "value": "42"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 10570) (stdout):</b>
       [a."\"b\"".c]

<b>     want:</b>
       ['a']
       [a.'"b"']
       [a.'"b"'.c]
       answer = 42

<b>FAIL</b> <b>valid/table/with-pound</b>
<b> </b>    Could not find key "key#group.answer" in encoder output

<b>     input sent to parser-cmd (PID 10571):</b>
       {
           "key#group": {
               "answer": {"type": "integer", "value": "42"}
           }
       }

<b>     output from parser-cmd (PID 10571) (stdout):</b>
       ["key#group"]

<b>     want:</b>
       ["key#group"]
       answer = 42

<b>FAIL</b> <b>valid/table/with-single-quotes</b>
<b> </b>    Could not find key "a.b.c.answer" in encoder output

<b>     input sent to parser-cmd (PID 10578):</b>
       {
           "a": {
               "b": {
                   "c": {
                       "answer": {"type": "integer", "value": "42"}
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 10578) (stdout):</b>
       [a.b.c]

<b>     want:</b>
       ['a']
       [a.'b']
       [a.'b'.c]
       answer = 42

<b>FAIL</b> <b>valid/table/without-super-with-values</b>
<b> </b>    Could not find key "x.c" in encoder output

<b>     input sent to parser-cmd (PID 10579):</b>
       {
           "x": {
               "c": {"type": "integer", "value": "3"},
               "d": {"type": "integer", "value": "4"},
               "y": {
                   "z": {
                       "w": {
                           "a": {"type": "integer", "value": "1"},
                           "b": {"type": "integer", "value": "2"}
                       }
                   }
               }
           }
       }

<b>     output from parser-cmd (PID 10579) (stdout):</b>
       [x.y.z.w]

<b>     want:</b>
       # [x] you
       # [x.y] don't
       # [x.y.z] need these
       [x.y.z.w] # for this to work
       a = 1
       b = 2
       [x] # defining a super-table afterwards is ok
       c = 3
       d = 4

toml-test v2025-04-23 [./js-deno-toml-encoder.ts]: using embedded tests,  1 skipped
encoder tests: 115 passed, 89 failed
took 5.7 0.52
</pre>
