<pre>
toml_parser version 74b4a91
<b>FAIL</b> <b>valid/key/quoted-unicode</b>
<b> </b>    decode JSON output from parser:
<b> </b>      invalid character 'x' in string escape code

<b>     input sent to parser-cmd:</b>

       "\u0000" = "null"
       '\u0000' = "different key"
       "\u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff" = "escaped key"

       "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø" = "basic key"
       'l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø' = "literal key"

<b>     output from parser-cmd (stdout):</b>
       {"\x00":{"type":"string","value":"null"},"~ \u0080 √ø \ud7ff \ue000 \uffff \U00010000 \U0010ffff":{"type":"string","value":"basic key"},"\b \f A \u007f \u0080 √ø \ud7ff \ue000 \uffff \x00 \uffff":{"type":"string","value":"escaped key"},"\\u0000":{"type":"string","value":"different key"},"l ~ \u0080 √ø \ud7ff \ue000 \uffff \U00010000 \U0010ffff":{"type":"string","value":"literal key"}}

<b>     want:</b>
       {
           "\u0000":               {"type": "string", "value": "null"},
           "\b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø": {"type": "string", "value": "escaped key"},
           "\\u0000":              {"type": "string", "value": "different key"},
           "l ~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":      {"type": "string", "value": "literal key"},
           "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø":        {"type": "string", "value": "basic key"}
       }

<b>FAIL</b> <b>valid/spec/float-0</b>
<b> </b>    Values for key "flt4" don't match:
<b> </b>      Expected:     5e+22
<b> </b>      Your encoder: 4.999999999999999e+22

<b>     input sent to parser-cmd:</b>
       # fractional
       flt1 = +1.0
       flt2 = 3.1415
       flt3 = -0.01

       # exponent
       flt4 = 5e+22
       flt5 = 1e06
       flt6 = -2E-2

       # both
       flt7 = 6.626e-34

<b>     output from parser-cmd (stdout):</b>
       {
         "flt1": {"type": "float", "value": "1"},
         "flt2": {"type": "float", "value": "3.1415"},
         "flt3": {"type": "float", "value": "-0.01"},
         "flt4": {"type": "float", "value": "4.999999999999999e+22"},
         "flt5": {"type": "float", "value": "1e+06"},
         "flt6": {"type": "float", "value": "-0.02"},
         "flt7": {"type": "float", "value": "6.618193064541891e-34"}
       }

<b>     want:</b>
       {
           "flt1": {"type": "float", "value": "1"},
           "flt2": {"type": "float", "value": "3.1415"},
           "flt3": {"type": "float", "value": "-0.01"},
           "flt4": {"type": "float", "value": "5e+22"},
           "flt5": {"type": "float", "value": "1e+06"},
           "flt6": {"type": "float", "value": "-0.02"},
           "flt7": {"type": "float", "value": "6.626e-34"}
       }

<b>FAIL</b> <b>valid/string/escapes</b>
<b> </b>    decode JSON output from parser:
<b> </b>      invalid character 'x' in string escape code

<b>     input sent to parser-cmd:</b>
       backspace     = "|\b."
       tab           = "|\t."
       newline       = "|\n."
       formfeed      = "|\f."
       carriage      = "|\r."
       quote         = "|\"."
       backslash     = "|\\."
       delete        = "|\u007F."
       unitseparator = "|\u001F."

       # \u is escaped, so should NOT be interperted as a \u escape.
       notunicode1   = "|\\u."
       notunicode2   = "|\u005Cu."
       notunicode3   = "|\\u0075."
       notunicode4   = "|\\\u0075."

<b>     output from parser-cmd (stdout):</b>
       {"delete":{"type":"string","value":"|\u007f."},"carriage":{"type":"string","value":"|\r."},"formfeed":{"type":"string","value":"|\f."},"tab":{"type":"string","value":"|\t."},"backspace":{"type":"string","value":"|\b."},"notunicode2":{"type":"string","value":"|\\u."},"newline":{"type":"string","value":"|\n."},"notunicode4":{"type":"string","value":"|\\u."},"notunicode1":{"type":"string","value":"|\\u."},"backslash":{"type":"string","value":"|\\."},"notunicode3":{"type":"string","value":"|\\u0075."},"unitseparator":{"type":"string","value":"|\x1f."},"quote":{"type":"string","value":"|\"."}}

<b>     want:</b>
       {
           "backslash":     {"type": "string", "value": "|\\."},
           "backspace":     {"type": "string", "value": "|\b."},
           "carriage":      {"type": "string", "value": "|\r."},
           "delete":        {"type": "string", "value": "|."},
           "formfeed":      {"type": "string", "value": "|\f."},
           "newline":       {"type": "string", "value": "|\n."},
           "notunicode1":   {"type": "string", "value": "|\\u."},
           "notunicode2":   {"type": "string", "value": "|\\u."},
           "notunicode3":   {"type": "string", "value": "|\\u0075."},
           "notunicode4":   {"type": "string", "value": "|\\u."},
           "quote":         {"type": "string", "value": "|\"."},
           "tab":           {"type": "string", "value": "|\t."},
           "unitseparator": {"type": "string", "value": "|\u001f."}
       }

<b>FAIL</b> <b>valid/string/quoted-unicode</b>
<b> </b>    decode JSON output from parser:
<b> </b>      invalid character 'x' in string escape code

<b>     input sent to parser-cmd:</b>

       escaped_string = "\u0000 \u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff"
       not_escaped_string = '\u0000 \u0008 \u000c \U00000041 \u007f \u0080 \u00ff \ud7ff \ue000 \uffff \U00010000 \U0010ffff'

       basic_string = "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"
       literal_string = '~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø'

<b>     output from parser-cmd (stdout):</b>
       {"literal_string":{"type":"string","value":"~ \u0080 √ø \ud7ff \ue000 \uffff \ud800\udc00 \udbff\udfff"},"not_escaped_string":{"type":"string","value":"\\u0000 \\u0008 \\u000c \\U00000041 \\u007f \\u0080 \\u00ff \\ud7ff \\ue000 \\uffff \\U00010000 \\U0010ffff"},"basic_string":{"type":"string","value":"~ \u0080 √ø \ud7ff \ue000 \uffff \ud800\udc00 \udbff\udfff"},"escaped_string":{"type":"string","value":"\x00 \b \f A \u007f \u0080 √ø \ud7ff \ue000 \uffff \x00 \uffff"}}

<b>     want:</b>
       {
           "basic_string":   {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "escaped_string": {"type": "string", "value": "\u0000 \b \f A  ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "literal_string": {"type": "string", "value": "~ ¬Ä √ø Ìüø ÓÄÄ Ôøø êÄÄ Ùèøø"},
           "not_escaped_string": {
               "type":  "string",
               "value": "\\u0000 \\u0008 \\u000c \\U00000041 \\u007f \\u0080 \\u00ff \\ud7ff \\ue000 \\uffff \\U00010000 \\U0010ffff"
           }
       }

<b>FAIL</b> <b>valid/string/unicode-escape</b>
<b> </b>    decode JSON output from parser:
<b> </b>      invalid character 'x' in string escape code

<b>     input sent to parser-cmd:</b>
       delta-1 = "\u03B4"
       delta-2 = "\U000003B4"
       a       = "\u0061"
       b       = "\u0062"
       c       = "\U00000063"
       null-1  = "\u0000"
       null-2  = "\U00000000"

       ml-delta-1 = """\u03B4"""
       ml-delta-2 = """\U000003B4"""
       ml-a       = """\u0061"""
       ml-b       = """\u0062"""
       ml-c       = """\U00000063"""
       ml-null-1  = """\u0000"""
       ml-null-2  = """\U00000000"""

<b>     output from parser-cmd (stdout):</b>
       {"ml-delta-1":{"type":"string","value":"\u03b4"},"ml-null-1":{"type":"string","value":"\x00"},"delta-2":{"type":"string","value":"\u03b4"},"ml-b":{"type":"string","value":"b"},"null-1":{"type":"string","value":"\x00"},"b":{"type":"string","value":"b"},"delta-1":{"type":"string","value":"\u03b4"},"ml-a":{"type":"string","value":"a"},"ml-null-2":{"type":"string","value":"\x00"},"a":{"type":"string","value":"a"},"ml-delta-2":{"type":"string","value":"\u03b4"},"ml-c":{"type":"string","value":"c"},"null-2":{"type":"string","value":"\x00"},"c":{"type":"string","value":"c"}}

<b>     want:</b>
       {
           "a":          {"type": "string", "value": "a"},
           "b":          {"type": "string", "value": "b"},
           "c":          {"type": "string", "value": "c"},
           "delta-1":    {"type": "string", "value": "Œ¥"},
           "delta-2":    {"type": "string", "value": "Œ¥"},
           "ml-a":       {"type": "string", "value": "a"},
           "ml-b":       {"type": "string", "value": "b"},
           "ml-c":       {"type": "string", "value": "c"},
           "ml-delta-1": {"type": "string", "value": "Œ¥"},
           "ml-delta-2": {"type": "string", "value": "Œ¥"},
           "ml-null-1":  {"type": "string", "value": "\u0000"},
           "ml-null-2":  {"type": "string", "value": "\u0000"},
           "null-1":     {"type": "string", "value": "\u0000"},
           "null-2":     {"type": "string", "value": "\u0000"}
       }

<b>FAIL</b> <b>invalid/array/extend-defined-aot</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [[tab.arr]]
       [tab]
       arr.val1=1

<b>     output from parser-cmd (stdout):</b>
       {
         "tab": {"arr": [{
           "val1": {"type": "integer", "value": "1"}
         }]}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/array/extending-table</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a = [{ b = 1 }]

       # Cannot extend tables within static arrays
       # https://github.com/toml-lang/toml/issues/908
       [a.c]
       foo = 1

<b>     output from parser-cmd (stdout):</b>
       {
         "a": [{
           "b": {"type": "integer", "value": "1"},
           "c": {
             "foo": {"type": "integer", "value": "1"}
           }
         }]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/array/tables-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # INVALID TOML DOC
       fruit = []

       [[fruit]] # Not allowed

<b>     output from parser-cmd (stdout):</b>
       {
         "fruit": [{}]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/array/tables-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # INVALID TOML DOC
       [[fruit]]
         name = "apple"

         [[fruit.variety]]
           name = "red delicious"

         # This table conflicts with the previous table
         [fruit.variety]
           name = "granny smith"

<b>     output from parser-cmd (stdout):</b>
       {
         "fruit": [{
           "name": {"type": "string", "value": "apple"},
           "variety": [
             {
               "name": {"type": "string", "value": "red delicious"}
             },
             {
               "name": {"type": "string", "value": "granny smith"}
             }
           ]
         }]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/bare-cr</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains a single carriage return control character
       

<b>     output from parser-cmd (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/comment-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       comment-del  = "0x7f"   # 

<b>     output from parser-cmd (stdout):</b>
       {
         "comment-del": {"type": "string", "value": "0x7f"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/multi-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       multi-del  = """null"""

<b>     output from parser-cmd (stdout):</b>
       {
         "multi-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawmulti-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       rawmulti-del  = '''null'''

<b>     output from parser-cmd (stdout):</b>
       {
         "rawmulti-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/rawstring-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       rawstring-del  = 'null'

<b>     output from parser-cmd (stdout):</b>
       {
         "rawstring-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/control/string-del</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       string-del  = "null"

<b>     output from parser-cmd (stdout):</b>
       {
         "string-del": {"type": "string", "value": "null"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-codepoint</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Invalid codepoint U+D800 : Ì†Ä

<b>     output from parser-cmd (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-at-end</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # There is a 0xda at after the quotes, and no EOL at the end of the file.
       #
       # This is a bit of an edge case: This indicates there should be two bytes
       # (0b1101_1010) but there is no byte to follow because it's the end of the file.
       x = """"""⁄

<b>     output from parser-cmd (stdout):</b>
       {
         "x": {"type": "string", "value": ""}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-comment</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # √

<b>     output from parser-cmd (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-multiline</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = """√"""

<b>     output from parser-cmd (stdout):</b>
       {
         "bad": {"type": "string", "value": "ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-multiline-literal</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = '''√'''

<b>     output from parser-cmd (stdout):</b>
       {"bad":{"type":"string","value":"\xc3"}}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-string</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = "√"

<b>     output from parser-cmd (stdout):</b>
       {
         "bad": {"type": "string", "value": "ÔøΩ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-string-literal</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = '√'

<b>     output from parser-cmd (stdout):</b>
       {"bad":{"type":"string","value":"\xc3"}}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/float/exp-point-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       exp-point-1 = 1e2.3

<b>     output from parser-cmd (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/float/leading-point-neg</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       leading-point-neg = -.12345

<b>     output from parser-cmd (stdout):</b>
       {
         "leading-point-neg": {"type": "float", "value": "-0.12345"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/float/leading-point-plus</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       leading-point-plus = +.12345

<b>     output from parser-cmd (stdout):</b>
       {
         "leading-point-plus": {"type": "float", "value": "0.12345"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/duplicate-key-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       tbl = { fruit = { apple.color = "red" }, fruit.apple.texture = { smooth = true } }

<b>     output from parser-cmd (stdout):</b>
       {
         "tbl": {
           "fruit": {
             "apple": {
               "color": {"type": "string", "value": "red"},
               "texture": {
                 "smooth": {"type": "bool", "value": "true"}
               }
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/duplicate-key-4</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       tbl = { a.b = "a_b", a.b.c = "a_b_c" }

<b>     output from parser-cmd (stdout):</b>
       {
         "tbl": {
           "a": {
             "b": {"type": "string", "value": "a_b"},
             "c": {"type": "string", "value": "a_b_c"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/linebreak-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # No newlines are allowed between the curly braces unless they are valid within
       # a value.
       simple = { a = 1
       }

<b>     output from parser-cmd (stdout):</b>
       {
         "simple": {
           "a": {"type": "integer", "value": "1"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/linebreak-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       t = {a=1,
       b=2}

<b>     output from parser-cmd (stdout):</b>
       {
         "t": {
           "a": {"type": "integer", "value": "1"},
           "b": {"type": "integer", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/linebreak-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       t = {a=1
       ,b=2}

<b>     output from parser-cmd (stdout):</b>
       {
         "t": {
           "a": {"type": "integer", "value": "1"},
           "b": {"type": "integer", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/linebreak-4</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       json_like = {
                 first = "Tom",
                 last = "Preston-Werner"
       }

<b>     output from parser-cmd (stdout):</b>
       {
         "json_like": {
           "first": {"type": "string", "value": "Tom"},
           "last":  {"type": "string", "value": "Preston-Werner"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/no-close-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a={

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-02</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a={}
       # Inline tables are immutable and can't be extended
       [a.b]

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-05</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       inline-t = { nest = {} }

       [inline-t.nest]

<b>     output from parser-cmd (stdout):</b>
       {
         "inline-t": {
           "nest": {}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-06</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a = { b = 1, b.c = 2 }

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {"type": "integer", "value": "1"},
           "c": {"type": "integer", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-07</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       tab = { inner.table = [{}], inner.table.val = "bad" }

<b>     output from parser-cmd (stdout):</b>
       {
         "tab": {
           "inner": {"table": [{
             "val": {"type": "string", "value": "bad"}
           }]}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-08</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       tab = { inner = { dog = "best" }, inner.cat = "worst" }

<b>     output from parser-cmd (stdout):</b>
       {
         "tab": {
           "inner": {
             "cat": {"type": "string", "value": "worst"},
             "dog": {"type": "string", "value": "best"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/overwrite-10</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Set implicit "b", overwrite "b" (illegal!) and then set another implicit.
       #
       # Caused panic: https://github.com/BurntSushi/toml/issues/403
       a = {b.a = 1, b = 2, b.c = 3}

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {"type": "integer", "value": "2"},
           "c": {"type": "integer", "value": "3"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/inline-table/trailing-comma</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # A terminating comma (also called trailing comma) is not permitted after the
       # last key/value pair in an inline table
       abc = { abc = 123, }

<b>     output from parser-cmd (stdout):</b>
       {
         "abc": {
           "abc": {"type": "integer", "value": "123"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/negative-bin</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       negative-bin = -0b11010110

<b>     output from parser-cmd (stdout):</b>
       {
         "negative-bin": {"type": "integer", "value": "-214"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/negative-hex</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       negative-hex = -0xff

<b>     output from parser-cmd (stdout):</b>
       {
         "negative-hex": {"type": "integer", "value": "-255"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/negative-oct</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       negative-oct = -0o755

<b>     output from parser-cmd (stdout):</b>
       {
         "negative-oct": {"type": "integer", "value": "-493"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/positive-bin</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       positive-bin = +0b11010110

<b>     output from parser-cmd (stdout):</b>
       {
         "positive-bin": {"type": "integer", "value": "214"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/positive-hex</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       positive-hex = +0xff

<b>     output from parser-cmd (stdout):</b>
       {
         "positive-hex": {"type": "integer", "value": "255"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/integer/positive-oct</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       positive-oct = +0o755

<b>     output from parser-cmd (stdout):</b>
       {
         "positive-oct": {"type": "integer", "value": "493"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/bare-invalid-character</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       bare!key = 123

<b>     output from parser-cmd (stdout):</b>
       {
         "bare!key": {"type": "integer", "value": "123"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/dotted-redefine-table-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a = false
       a.b = true

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {"type": "bool", "value": "false"},
         "b": {"type": "bool", "value": "true"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/dotted-redefine-table-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Defined a.b as int
       a.b = 1
       # Tries to access it as table: error
       a.b.c = 2

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {"type": "integer", "value": "1"},
           "c": {"type": "integer", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/escape</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       \u00c0 = "latin capital letter A with grave"

<b>     output from parser-cmd (stdout):</b>
       {
         "√Ä": {"type": "string", "value": "latin capital letter A with grave"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/partial-quoted</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       partial"quoted" = 5

<b>     output from parser-cmd (stdout):</b>
       {
         "partial\"quoted\"": {"type": "integer", "value": "5"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/key/special-character</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       Œº = "greek small letter mu"

<b>     output from parser-cmd (stdout):</b>
       {
         "Œº": {"type": "string", "value": "greek small letter mu"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-date/trailing-t</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Date cannot end with trailing T
       d = 2006-01-30T

<b>     output from parser-cmd (stdout):</b>
       {
         "d": {"type": "date-local", "value": "2006-01-30TZ"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/spec/inline-table-2-0</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [product]
       type = { name = "Nail" }
       type.edible = false  # INVALID

<b>     output from parser-cmd (stdout):</b>
       {
         "product": {
           "type": {
             "edible": {"type": "bool", "value": "false"},
             "name":   {"type": "string", "value": "Nail"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/spec/table-9-0</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [fruit]
       apple.color = "red"
       apple.taste.sweet = true

       [fruit.apple]  # INVALID
       # [fruit.apple.taste]  # INVALID

       [fruit.apple.texture]  # you can add sub-tables
       smooth = true

<b>     output from parser-cmd (stdout):</b>
       {
         "fruit": {
           "apple": {
             "color": {"type": "string", "value": "red"},
             "taste": {
               "sweet": {"type": "bool", "value": "true"}
             },
             "texture": {
               "smooth": {"type": "bool", "value": "true"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/spec/table-9-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [fruit]
       apple.color = "red"
       apple.taste.sweet = true

       # [fruit.apple]  # INVALID
       [fruit.apple.taste]  # INVALID

       [fruit.apple.texture]  # you can add sub-tables
       smooth = true

<b>     output from parser-cmd (stdout):</b>
       {
         "fruit": {
           "apple": {
             "color": {"type": "string", "value": "red"},
             "taste": {
               "sweet": {"type": "bool", "value": "true"}
             },
             "texture": {
               "smooth": {"type": "bool", "value": "true"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-escape-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       invalid-escape = "This string has a bad \  escape character."

<b>     output from parser-cmd (stdout):</b>
       {
         "invalid-escape": {"type": "string", "value": "This string has a bad escape character."}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-escape-4</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a = "a \\\ b"

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {"type": "string", "value": "a \\b"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-escape-5</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a = "a \\\\\ b"

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {"type": "string", "value": "a \\\\b"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-multiline</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       multi = "first line
       second line"

<b>     output from parser-cmd (stdout):</b>
       {
         "multi": {"type": "string", "value": "first line\nsecond line"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/multiline-bad-escape-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # \<Space> is not a valid escape.
       k = """t\ t"""

<b>     output from parser-cmd (stdout):</b>
       {
         "k": {"type": "string", "value": "tt"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/multiline-bad-escape-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # \<Space> is not a valid escape.
       k = """t\ """

<b>     output from parser-cmd (stdout):</b>
       {
         "k": {"type": "string", "value": "t"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/multiline-escape-space-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a = """
         foo \ \n
         bar"""

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {"type": "string", "value": "  foo \n\n  bar"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/multiline-escape-space-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       bee = """
       hee \

       gee \   """

<b>     output from parser-cmd (stdout):</b>
       {
         "bee": {"type": "string", "value": "hee gee "}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/append-to-array-with-dotted-keys</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [[a.b]]

       [a]
       b.y = 2

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {"b": [{
           "y": {"type": "integer", "value": "2"}
         }]}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/append-with-dotted-keys-1</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # First a.b.c defines a table: a.b.c = {z=9}
       #
       # Then we define a.b.c.t = "str" to add a str to the above table, making it:
       #
       #   a.b.c = {z=9, t="..."}
       #
       # While this makes sense, logically, it was decided this is not valid TOML as
       # it's too confusing/convoluted.
       #
       # See: https://github.com/toml-lang/toml/issues/846
       #      https://github.com/toml-lang/toml/pull/859

       [a.b.c]
         z = 9

       [a]
         b.c.t = "Using dotted keys to add to [a.b.c] after explicitly defining it above is not allowed"

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {
             "c": {
               "z": {"type": "integer", "value": "9"},
               "t": {
                 "type":  "string",
                 "value": "Using dotted keys to add to [a.b.c] after explicitly defining it above is not allowed"
               }
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/append-with-dotted-keys-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # This is the same issue as in injection-1.toml, except that nests one level
       # deeper. See that file for a more complete description.

       [a.b.c.d]
         z = 9

       [a]
         b.c.d.k.t = "Using dotted keys to add to [a.b.c.d] after explicitly defining it above is not allowed"

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {
             "c": {
               "d": {
                 "z": {"type": "integer", "value": "9"},
                 "k": {
                   "t": {
                     "type":  "string",
                     "value": "Using dotted keys to add to [a.b.c.d] after explicitly defining it above is not allowed"
                   }
                 }
               }
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/duplicate</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [a]
       b = 1

       [a]
       c = 2

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {"type": "integer", "value": "1"},
           "c": {"type": "integer", "value": "2"}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/duplicate-key-dotted-table</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [fruit]
       apple.color = "red"

       [fruit.apple] # INVALID

<b>     output from parser-cmd (stdout):</b>
       {
         "fruit": {
           "apple": {
             "color": {"type": "string", "value": "red"}
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/duplicate-key-dotted-table2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [fruit]
       apple.taste.sweet = true

       [fruit.apple.taste] # INVALID

<b>     output from parser-cmd (stdout):</b>
       {
         "fruit": {
           "apple": {
             "taste": {
               "sweet": {"type": "bool", "value": "true"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/duplicate-table-array2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [[tbl]]
       [tbl]

<b>     output from parser-cmd (stdout):</b>
       {
         "tbl": [
           {},
           {}
         ]
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/overwrite-with-deep-table</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       a=1
       [a.b.c.d]

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {"type": "integer", "value": "1"},
         "b": {
           "c": {}
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/redefine-2</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [t1]
       t2.t3.v = 0
       [t1.t2]

<b>     output from parser-cmd (stdout):</b>
       {
         "t1": {
           "t2": {
             "t3": {
               "v": {"type": "integer", "value": "0"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/redefine-3</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [t1]
       t2.t3.v = 0
       [t1.t2.t3]

<b>     output from parser-cmd (stdout):</b>
       {
         "t1": {
           "t2": {
             "t3": {
               "v": {"type": "integer", "value": "0"}
             }
           }
         }
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/table/super-twice</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       [a.b]
       [a]
       [a]

<b>     output from parser-cmd (stdout):</b>
       {
         "a": {
           "b": {}
         }
       }

<b>     want:</b>
       Exit code 1

toml-test v2025-04-21 [./toml_parser]: using embedded tests
  valid tests: 190 passed,  5 failed
invalid tests: 308 passed, 69 failed

==> ENCODER TESTS
(not supported)
took 0.0 0.0
</pre>
