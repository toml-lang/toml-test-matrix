<pre>
smol-toml version 427e7ba
<b>FAIL</b> <b>invalid/datetime/feb-29</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       "not a leap year" = 2100-02-29T15:15:15Z

<b>     output from parser-cmd (stdout):</b>
       {
         "not a leap year": {"type": "datetime", "value": "2100-03-01T15:15:15.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/feb-30</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       "only 28 or 29 days in february" = 1988-02-30T15:15:15Z

<b>     output from parser-cmd (stdout):</b>
       {
         "only 28 or 29 days in february": {"type": "datetime", "value": "1988-03-01T15:15:15.000Z"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/datetime/offset-overflow-hour</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Hour must be 00-24
       d = 1985-06-18 17:04:07+25:00

<b>     output from parser-cmd (stdout):</b>
       {
         "d": {"type": "datetime", "value": "1985-06-18T17:04:07.000+25:00"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-codepoint</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Invalid codepoint U+D800 : í €

<b>     output from parser-cmd (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-comment</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # Ã

<b>     output from parser-cmd (stdout):</b>
       {}

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-multiline</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = """Ã"""

<b>     output from parser-cmd (stdout):</b>
       {
         "bad": {"type": "string", "value": "ï¿½"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-multiline-literal</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = '''Ã'''

<b>     output from parser-cmd (stdout):</b>
       {
         "bad": {"type": "string", "value": "ï¿½"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-string</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = "Ã"

<b>     output from parser-cmd (stdout):</b>
       {
         "bad": {"type": "string", "value": "ï¿½"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/encoding/bad-utf8-in-string-literal</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       # The following line contains an invalid UTF-8 sequence.
       bad = 'Ã'

<b>     output from parser-cmd (stdout):</b>
       {
         "bad": {"type": "string", "value": "ï¿½"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-date/feb-29</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       "not a leap year" = 2100-02-29

<b>     output from parser-cmd (stdout):</b>
       {
         "not a leap year": {"type": "date-local", "value": "2100-03-01"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-date/feb-30</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       "only 28 or 29 days in february" = 1988-02-30

<b>     output from parser-cmd (stdout):</b>
       {
         "only 28 or 29 days in february": {"type": "date-local", "value": "1988-03-01"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-datetime/feb-29</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       "not a leap year" = 2100-02-29T15:15:15

<b>     output from parser-cmd (stdout):</b>
       {
         "not a leap year": {"type": "datetime-local", "value": "2100-03-01T15:15:15.000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/local-datetime/feb-30</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       "only 28 or 29 days in february" = 1988-02-30T15:15:15

<b>     output from parser-cmd (stdout):</b>
       {
         "only 28 or 29 days in february": {"type": "datetime-local", "value": "1988-03-01T15:15:15.000"}
       }

<b>     want:</b>
       Exit code 1

<b>FAIL</b> <b>invalid/string/bad-uni-esc-6</b>
<b> </b>    Expected an error, but no error was reported.

<b>     input sent to parser-cmd:</b>
       bad-uni-esc-6 = "This string contains a non scalar unicode codepoint \uD801"

<b>     output from parser-cmd (stdout):</b>
       {
         "bad-uni-esc-6": {"type": "string", "value": "This string contains a non scalar unicode codepoint ï¿½"}
       }

<b>     want:</b>
       Exit code 1

toml-test v2025-04-19 [./toml-test-parse.mjs]: using embedded tests,  1 skipped
  valid tests: 193 passed,  0 failed
invalid tests: 363 passed, 14 failed

==> ENCODER TESTS
toml-test v2025-04-19 [./toml-test-encode.mjs]: using embedded tests,  1 skipped
encoder tests: 193 passed,  0 failed
took 3.6 0.24
</pre>
